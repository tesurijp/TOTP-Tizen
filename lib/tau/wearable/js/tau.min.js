/*
 * TAU (Tizen Advanced UI)
 * Copyright (c) 2010 - 2014 Samsung Electronics Co., Ltd.
 * License : MIT License V2
 */

!function(a,b,c){var d=a.tau={},e=a.tauConfig=a.tauConfig||{};e.rootNamespace="tau",e.fileName="tau",d.version="0.9.32",function(a,b,d){var e=0,f=+new Date,g=[].slice,h=d.rootNamespace,i=d.fileName,j=function(a){var b=new Date;a.unshift("["+h+"]["+b.toLocaleString()+"]")};b.getUniqueId=function(){return h+"-"+b.getNumberUniqueId()+"-"+f},b.getNumberUniqueId=function(){return e++},b.log=function(){var a=g.call(arguments);j(a),console&&console.log.apply(console,a)},b.warn=function(){var a=g.call(arguments);j(a),console&&console.warn.apply(console,a)},b.error=function(){var a=g.call(arguments);j(a),console&&console.error.apply(console,a)},b.getConfig=function(a,b){return d[a]===c?b:d[a]},b.setConfig=function(a,b,e){(!e||e&&d[a]===c)&&(d[a]=b)},b.getFrameworkPath=function(){var b,c,d,e,f=a.getElementsByTagName("script"),g=f.length;for(b=0;g>b;b++)if(c=f[b].src,d=c.split("/"),e=d.length,d[e-1]===i+".js"||d[e-1]===i+".min.js")return d.slice(0,e-1).join("/");return null}}(a.document,d,e),function(a){a.defaults={},Object.defineProperty(a.defaults,"autoInitializePage",{get:function(){return a.getConfig("autoInitializePage",!0)},set:function(b){return a.setConfig("autoInitializePage",b)}}),Object.defineProperty(a.defaults,"dynamicBaseEnabled",{get:function(){return a.getConfig("dynamicBaseEnabled",!0)},set:function(b){return a.setConfig("dynamicBaseEnabled",b)}}),Object.defineProperty(a.defaults,"pageTransition",{get:function(){return a.getConfig("pageTransition","none")},set:function(b){return a.setConfig("pageTransition",b)}}),Object.defineProperty(a.defaults,"popupTransition",{get:function(){return a.getConfig("popupTransition","none")},set:function(b){return a.setConfig("popupTransition",b)}})}(d),function(a){a.setConfig("rootDir",a.getFrameworkPath(),!0),a.setConfig("version",""),a.setConfig("allowCrossDomainPages",!1,!0),a.setConfig("domCache",!1,!0)}(d),function(a){a.setConfig("autoBuildOnPageChange",!1,!0),a.setConfig("popupTransition","slideup")}(d),function(a,b,c){function d(a,b){var c,d=new XMLHttpRequest;return d.open("get",a,!1),b&&d.overrideMimeType(b),d.send(),4===d.readyState&&(c=d.status,200===c||0===c&&d.responseText)?d.responseText:null}function e(a){for(var b,c=l.call(a.querySelectorAll("script[src]")),d=c.length;--d>=0;)b=c[d],b.parentNode.removeChild(b);return c}function f(b){return function(){try{a.eval(b)}catch(c){"undefined"!=typeof console&&(c.stack||c.name&&c.message)}}}function g(b){var c,d=b.length;for(c=0;d>c;++c)b[c].call(a)}function h(a,c){var e,g,h,i,j=[];for(h=0,i=a.length;i>h;++h)g=d(a[h].src,"text/plain"),g&&(e=b.adoptNode(a[h]),e.setAttribute("data-src",a[h].src),e.removeAttribute("src"),j.push(f(g)),c&&c.appendChild(e));return j}var i=null,j=(a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||function(b){i=a.setTimeout(b.bind(b,+new Date),1e3/60)}).bind(a),k=c.util||{},l=[].slice;k.fetchSync=d,k.safeEvalWrap=f,k.batchCall=g,k.requestAnimationFrame=j,k.cancelAnimationFrame=(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||function(){a.clearTimeout(i)}).bind(a),k.async=j,k.importEvaluateAndAppendElement=function(a,c){var d=h(e(a),a),f=b.importNode(a,!0);return c.appendChild(f),g(d),f},k.isNumber=function(a){var b=parseFloat(a);return!isNaN(b)&&isFinite(b)},k.runScript=function(a,c){var e,f,g=b.createElement("script"),h=null,i=l.call(c.attributes),j=c.getAttribute("src"),m=k.path;for(null!==j&&(j=m.makeUrlAbsolute(j,a)),e=i.length;--e>=0;)f=i[e],"src"!==f.name?g.setAttribute(f.name,f.value):g.setAttribute("data-src",f.value);h=j?d(j,"text/plain"):c.textContent,h&&(g.src=URL.createObjectURL(new Blob([h],{type:"text/javascript"})),g.textContent=h),c.parentNode.replaceChild(g,c)},c.util=k}(a,a.document,d),function(a,b,c){function d(a,b,c){var d,e,f,g=[],h=c||1,i=!1;if(isNaN(a)||isNaN(b)?isNaN(a)&&isNaN(b)?(i=!0,d=a.charCodeAt(0),e=b.charCodeAt(0)):(d=isNaN(a)?0:a,e=isNaN(b)?0:b):(d=a,e=b),f=e>=d)for(;e>=d;)g.push(i?String.fromCharCode(d):d),d+=h;else for(;d>=e;)g.push(i?String.fromCharCode(d):d),d-=h;return g}function e(a){var b=typeof a,c=a&&a.length;return a&&a!==a.window?Array.isArray(a)||a instanceof NodeList||"function"===b&&(0===c||"number"==typeof c&&c>0&&c-1 in a):!1}c.util.array={range:d,isArrayLike:e}}(a,a.document,d),function(a,d){var e=Array.isArray,f=d.util.array.isArrayLike,g=/\s+/g,h=function(a){return a.trim()},i=function(a,b){var c,d,f=[];if("string"==typeof a&&(a=a.split(g).map(h)),e(a))for(d=0;d<a.length;d++)f.push({type:a[d],callback:b});else for(c in a)a.hasOwnProperty(c)&&f.push({type:c,callback:a[c]});return f};d.event={trigger:function(a,b,c,d,e){var f=new CustomEvent(b,{detail:c,bubbles:"boolean"==typeof d?d:!0,cancelable:"boolean"==typeof e?e:!0});return a.dispatchEvent(f)},preventDefault:function(a){var b=a._originalEvent;b&&b.preventDefault&&b.preventDefault(),a.preventDefault()},stopPropagation:function(a){var b=a._originalEvent;b&&b.stopPropagation&&b.stopPropagation(),a.stopPropagation()},stopImmediatePropagation:function(a){var b=a._originalEvent;b&&b.stopImmediatePropagation&&b.stopImmediatePropagation(),a.stopImmediatePropagation()},documentRelativeCoordsFromEvent:function(c){var d,e=c?c:a.event,f={x:e.clientX,y:e.clientY},g={x:e.pageX,y:e.pageY},h=0,i=0,j=b.body,k=b.documentElement;return c.type.match(/^touch/)&&(d=e.targetTouches[0]||e.originalEvent.targetTouches[0],g={x:d.pageX,y:d.pageY},f={x:d.clientX,y:d.clientY}),g.x||g.y?(h=g.x,i=g.y):(f.x||f.y)&&(h=f.x+j.scrollLeft+k.scrollLeft,i=f.y+j.scrollTop+k.scrollTop),{x:h,y:i}},targetRelativeCoordsFromEvent:function(a){var b=a.target,e={x:a.offsetX,y:a.offsetY};return(e.x===c||isNaN(e.x)||e.y===c||isNaN(e.y))&&(e=d.event.documentRelativeCoordsFromEvent(a),e.x-=b.offsetLeft,e.y-=b.offsetTop),e},fastOn:function(a,b,c,d){a.addEventListener(b,c,d||!1)},fastOff:function(a,b,c,d){a.removeEventListener(b,c,d||!1)},on:function(a,b,c,e){var g,h,j,k,l,m;for(l=f(a)?a:[a],j=l.length,m=i(b,c),k=m.length,g=0;j>g;g++)if("function"==typeof l[g].addEventListener)for(h=0;k>h;h++)d.event.fastOn(l[g],m[h].type,m[h].callback,e)},off:function(a,b,c,e){var g,h,j,k,l,m;for(l=f(a)?a:[a],j=l.length,m=i(b,c),k=m.length,g=0;j>g;g++)if("function"==typeof l[g].addEventListener)for(h=0;k>h;h++)d.event.fastOff(l[g],m[h].type,m[h].callback,e)},one:function(a,b,c,e){var g,h,j,k,l,m,n=[].slice,o=[];for(l=f(a)?n.call(a):[a],j=l.length,m=i(b,c),k=m.length,g=0;j>g;g++)if("function"==typeof l[g].addEventListener)for(o[g]=[],h=0;k>h;h++)o[g][h]=function(a,b){var c=n.call(arguments);d.event.fastOff(l[a],m[b].type,o[a][b],e),c.shift(),c.shift(),m[b].callback.apply(this,c)}.bind(null,g,h),d.event.fastOn(l[g],m[h].type,o[g][h],e)}}}(a,d),function(a,b){function c(a){var c=b.getConfig("namespace");return"[data-"+(c?c+"-":"")+a+"]"}function d(a,b){return k&&a[k]?a[k](b):!1}function e(b){for(var c=[],d=b.parentNode;d&&d!==a;)c.push(d),d=d.parentNode;return c}function f(b,c){for(var d=b;d&&d!==a;){if(c(d))return d;d=d.parentNode}return null}function g(a,b){return d(b,a)}function h(a,b){return b&&b.classList&&b.classList.contains(a)}function i(a,b){return b.tagName.toLowerCase()===a}var j=[].slice,k=function(){var b=a.createElement("div");return"function"==typeof b.webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof b.mozMatchesSelector?"mozMatchesSelector":"function"==typeof b.msMatchesSelector?"msMatchesSelector":"function"==typeof b.matchesSelector?"matchesSelector":!1}();b.util.selectors={matchesSelector:d,getChildrenBySelector:function(a,b){return j.call(a.children).filter(g.bind(null,b))},getChildrenByDataNS:function(a,b){return j.call(a.children).filter(g.bind(null,c(b)))},getChildrenByClass:function(a,b){return j.call(a.children).filter(h.bind(null,b))},getChildrenByTag:function(a,b){return j.call(a.children).filter(i.bind(null,b))},getParents:e,getParentsBySelector:function(a,b){return e(a).filter(g.bind(null,b))},getParentsBySelectorNS:function(a,b){return e(a).filter(g.bind(null,c(b)))},getParentsByClass:function(a,b){return e(a).filter(h.bind(null,b))},getParentsByTag:function(a,b){return e(a).filter(i.bind(null,b))},getClosestBySelector:function(a,b){return f(a,g.bind(null,b))},getClosestBySelectorNS:function(a,b){return f(a,g.bind(null,c(b)))},getClosestByClass:function(a,b){return f(a,h.bind(null,b))},getClosestByTag:function(a,b){return f(a,i.bind(null,b))},getAllByDataNS:function(a,b){return j.call(a.querySelectorAll(c(b)))}}}(a.document,d),function(a){var b={copy:function(a){return b.merge({},a)},fastMerge:function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},merge:function(){var a,b,d,e,f,g=[].slice.call(arguments),h=g.length;for(a=g.shift(),d=!0,"boolean"==typeof arguments[h-1]&&(d=arguments[h-1],h--),f=0;h>f;f++)if(b=g.shift(),null!==b)for(e in b)b.hasOwnProperty(e)&&(d||a[e]===c)&&(a[e]=b[e]);return a},inherit:function(a,b,c){var d,e,f=new b;for(d in c)c.hasOwnProperty(d)&&(e=c[d],f[d]="function"==typeof e?function(a,b,c){var d=function(){var c=a.prototype[b];return c?c.apply(this,arguments):null};return function(){var a,b=this._super;return this._super=d,a=c.apply(this,arguments),this._super=b,a}}(b,d,e):e);a.prototype=f,a.prototype.constructor=a},hasPropertiesOfValue:function(a,b){var c=Object.keys(a),d=c.length;if(0===d)return!1;for(;--d>=0;)if(a[c[d]]!==b)return!1;return!0},removeProperties:function(a,b){var c,d,e=b.length;for(d=0;e>d;d++)c=b[d],a.hasOwnProperty(c)&&delete a[c];return a}};a.util.object=b}(d),function(a,b,d){function e(a){return a.match(/\[data-role=/)&&!a.match(/:not\(\[data-role=/)?a.trim():a.trim()+":not([data-role='none'])"}function f(a,f,g,h,i,j,k){var l;if(a){if(!G[a]||j)return g=g||[],g.push("destroy","disable","enable","option","refresh","value"),l={name:a,methods:g,selector:f||"",selectors:f?f.split(",").map(e):[],widgetClass:h||null,namespace:i||"",widgetNameToLowercase:k===c?!0:!!k},G[a]=l,D.trigger(b,"widgetdefined",l,!1),!0}else d.error("Widget with selector ["+f+"] defined without a name, aborting!");return!1}function g(a,c){var d,e,f,g=a&&typeof a!==K?a.id:a;return typeof a===K&&(a=b.getElementById(g)),d=H[g],d&&"object"==typeof d&&(c?e=d.instances[c]:(f=Object.keys(d.instances),e=d.instances[f[0]]),e&&e.element===a)?e:null}function h(a){var b=a.element.id,c=a.name,d=H[b];d||(d={elementId:b,element:a.element,instances:{}}),d.instances[c]=a,H[b]=d}function i(a){var b=a&&typeof a!==K?a.id:a;return H[b]&&H[b].instances||null}function j(a,b){var c,d;return c=b.split(P),d=c.indexOf(a),d>-1&&(c.splice(d,1),b=c.join(P)),b}function k(a){a.removeAttribute(M),a.removeAttribute(O),a.removeAttribute(N)}function l(a,b){var c,d,e;b?(c=j(b,a.getAttribute(M)||""),d=j(b,a.getAttribute(O)||""),e=j(b,a.getAttribute(N)||""),c&&d&&e?(a.setAttribute(M,c),a.setAttribute(O,d),a.setAttribute(N,e)):k(a)):k(a)}function m(a,b){var c=a[b];return c?(c.element&&typeof c.element.setAttribute===L&&l(c.element,b),a[b]=null,!0):!1}function n(a,b){var c,d,e,f=typeof a===K?a:a.id,g=H[f],h=!1;if(g&&(typeof a===K&&(a=g.element),a&&l(a,b),c=H[f]&&H[f].instances)){if(!b){h=!0;for(d in c)c.hasOwnProperty(d)&&(e=m(c,d),c[d]=null,h=h&&e);return E.hasPropertiesOfValue(c,null)&&(H[f]=null),h}return e=m(c,b),E.hasPropertiesOfValue(c,null)&&(H[f]=null),e}return!1}function o(a){return n(a)}function p(a,c,d){var e,f,i=d||{},j=i.create,k=c.widgetClass,l=k?new k(a):!1,m=F.getParentsBySelectorNS(a,"enhance=false");return f=g(a,c.name),f&&f.element===a?f.element:(l&&!m.length&&(l.configure(c,a,d),typeof j===L&&D.one(a,c.name.toLowerCase()+"create",j),a.id&&(l.id=a.id),e=a.getAttribute(M),(!e||e&&-1===e.split(P).indexOf(l.name))&&(a=l.build(a)),a&&(l.element=a,h(l),l.trigger(S.WIDGET_BUILT,l,!1),J||l.init(a),l.bindEvents(a,J),D.trigger(a,S.WIDGET_BOUND,l,!1),D.trigger(b,S.WIDGET_BOUND,l))),l.element)}function q(a,c){var d;typeof a===K&&(a=b.getElementById(a)),d=g(a,c),d&&(d.destroy(),d.trigger("widgetdestroyed"),n(a,c))}function r(a,c){var d,e,f,g,h;if(typeof a===K&&(a=b.getElementById(a)),!c){f=i(a);for(d in f)f.hasOwnProperty(d)&&(e=f[d],e.destroy(),e.trigger("widgetdestroyed"))}for(g=C.call(a.querySelectorAll("["+O+"]")),h=g.length-1;h>=0;h-=1)g[h]&&r(g[h],!1);o(a)}function s(a,b,c){var d=a.getAttribute(N)||b&&b.name;return b=b||d&&G[d]||{name:d},p(a,b,c)}function t(a,b){var c=Node.DOCUMENT_POSITION_CONTAINS|Node.DOCUMENT_POSITION_PRECEDING;return a.element.compareDocumentPosition(b.element)&c?1:-1}function u(a){s(a.element||a,G[a.widgetName])}function v(a){var c,d,e,f,g,h,i=C.call(a.querySelectorAll(Q)),j=[],k=[],l=Object.keys(G),m=l.length;for(i.forEach(u),d=0;m>d;++d)if(g=l[d],f=G[g],h=f.selectors,h.length)for(c=R(g),j=C.call(a.querySelectorAll(h.join(c+",")+c)),e=j.length;--e>=0;)k.push({element:j[e],widgetName:g});k.sort(t),k.forEach(u),D.trigger(b,"built"),D.trigger(b,S.BOUND)}function w(a){v(a.target)}function x(){var a,c,d,e,f=b.head;if(c=f.querySelectorAll('[name="viewport"]'),a=c.length,a>0)for(--a,e=0;a>e;++e)f.removeChild(c[e]);else d=b.createElement("meta"),d.setAttribute("name","viewport"),d.setAttribute("content","width=device-width, user-scalable=no"),f.firstChild?f.insertBefore(d,f.firstChild):f.appendChild(d)}function y(){B&&(x(),D.trigger(b,"beforerouterinit",B,!1),B.init(J),D.trigger(b,"routerinit",B,!1))}function z(){B&&B.destroy()}var A,B,C=[].slice,D=d.event,E=d.util.object,F=d.util.selectors,G={},H={},I=a.location,J="#build"===I.hash,K="string",L="function",M="data-tau-built",N="data-tau-name",O="data-tau-bound",P=",",Q="*["+M+"]["+N+"]:not(["+O+"])",R=function(a){return":not(["+M+"*='"+a+"']):not(["+O+"*='"+a+"'])"},S={INIT:"tauinit",WIDGET_BOUND:"widgetbound",WIDGET_DEFINED:"widgetdefined",WIDGET_BUILT:"widgetbuilt",BOUND:"bound"};d.widgetDefinitions={},A={justBuild:"#build"===I.hash,dataTau:{built:M,name:N,bound:O,separator:P},destroyWidget:q,destroyAllWidgets:r,createWidgets:v,getDefinitions:function(){return G},getWidgetDefinition:function(a){return G[a]},defineWidget:f,getBinding:g,getAllBindings:i,setBinding:h,removeBinding:n,removeAllBindings:o,_clearBindings:function(){H={}},build:y,run:function(){switch(z(),D.fastOn(b,"create",w),D.trigger(b,S.INIT,{tau:d}),b.readyState){case"interactive":case"complete":y();break;default:D.fastOn(b,"DOMContentLoaded",y.bind(A))}},getRouter:function(){return B},initRouter:function(a){B=new a},instanceWidget:function(a,b,c){var e,f=g(a,b);return a?(!f&&G[b]&&(e=G[b],a=s(a,e,c),f=g(a,b)),f):(d.error("'element' cannot be empty"),null)},stop:z,setJustBuild:function(a){I.hash=a?"build":"",J=a},getJustBuild:function(){return J},_createEventHandler:w},A.eventType=S,d.engine=A}(a,a.document,d),function(a,b,c){function d(a){return a=w.getClosestBySelector(a,"a, label")}function e(a){return a=w.getClosestByTag(a,"li")}function f(){var a;r=d(r),q||!r||"A"!==r.tagName&&"LABEL"!==r.tagName||(a=e(r),a&&a.classList.add(v))}function g(){return a.getElementsByClassName(v)}function h(){var a,b=g(),c=b.length;for(a=0;c>a;a++)b[a].classList.remove(v)}function i(a){var b=a.touches[0];q=q||Math.abs(b.clientX-o)>u.scrollThreshold||Math.abs(b.clientY-p)>u.scrollThreshold,q&&(t(),h())}function j(b){var c=b.touches,d=c[0];1===c.length&&(q=!1,o=d.clientX,p=d.clientY,r=b.target,a.addEventListener("touchmove",i,!1),clearTimeout(s),s=setTimeout(f,u.addActiveClassDelay))}function k(a){0===a.touches.length&&(clearTimeout(s),s=null,q||setTimeout(h,u.keepActiveClassDelay),q=!1)}function l(){"hidden"===a.visibilityState&&h()}function m(){a.addEventListener("touchstart",j,!1),a.addEventListener("touchend",k,!1),a.addEventListener("visibilitychange",l,!1),b.addEventListener("pagehide",h,!1)}function n(){a.removeEventListener("touchstart",j,!1),a.removeEventListener("touchend",k,!1),b.removeEventListener("pagehide",h,!1)}var o,p,q,r,s,t,u={scrollThreshold:5,addActiveClassDelay:10,keepActiveClassDelay:100},v="ui-li-active",w=c.util.selectors;t=function(){a.removeEventListener("touchmove",i,!1)},m(),c.util.anchorHighlight={enable:m,disable:n}}(b,a,d),function(a){a.util.DOM=a.util.DOM||{}}(d),function(a,b,c){function d(b,c,d,e){var f=a.getComputedStyle(b),g=null,h=d;if(f&&(g=f.getPropertyValue(c)))switch(e){case"integer":g=parseInt(g,10),isNaN(g)||(h=g);break;case"float":g=parseFloat(g),isNaN(g)||(h=g);break;default:h=g}return h}function e(b,d,e,f){var g,h=a.getComputedStyle(b,e),i=null,j=c.util;for(g in d)d.hasOwnProperty(g)&&(i=h.getPropertyValue(g),d[g]=j.isNumber(i)&&!f?i.match(/\./gi)?parseFloat(i):parseInt(i,10):i)}function f(a,b,c,d,f,g){var h,i,j,k=0,l=null,m=null,n=null,o=b&&"outer"===b||!1,p=0,q={height:0,"margin-top":0,"margin-bottom":0,"padding-top":0,"padding-bottom":0,"border-top-width":0,"border-bottom-width":0,"box-sizing":""};if(a){h=a.style,"none"!==h.display?(e(a,q,f,!0),p=a.offsetHeight):g&&(l=h.display,m=h.visibility,n=h.position,h.display="block",h.visibility="hidden",h.position="relative",e(a,q,f,!0),p=a.offsetHeight,h.display=l,h.visibility=m,h.position=n),"string"==typeof q.height&&-1===q.height.indexOf("px")&&(q.height=0);for(j in q)q.hasOwnProperty(j)&&"box-sizing"!==j&&(i=parseFloat(q[j]),isNaN(i)&&(i=0),q[j]=i);k+=q.height+q["padding-top"]+q["padding-bottom"],c?k=p:o&&"border-box"!==q["box-sizing"]&&(k+=q["border-top-width"]+q["border-bottom-width"]),d&&(k+=Math.max(0,q["margin-top"])+Math.max(0,q["margin-bottom"]))}return k}function g(a,b,c,d,f,g){var h,i,j,k=0,l=null,m=null,n=null,o=0,p=b&&"outer"===b||!1,q={width:0,"margin-left":0,"margin-right":0,"padding-left":0,"padding-right":0,"border-left-width":0,"border-right-width":0,"box-sizing":""};if(a){h=a.style,"none"!==h.display?(e(a,q,f,!0),o=a.offsetWidth):g&&(l=h.display,m=h.visibility,n=h.position,h.display="block",h.visibility="hidden",h.position="relative",e(a,q,f,!0),h.display=l,h.visibility=m,h.position=n),"string"==typeof q.width&&-1===q.width.indexOf("px")&&(q.width=0);for(j in q)q.hasOwnProperty(j)&&"box-sizing"!==j&&(i=parseFloat(q[j]),isNaN(i)&&(i=0),q[j]=i);k+=q.width+q["padding-left"]+q["padding-right"],c?k=o:p&&"border-box"!==q["box-sizing"]&&(k+=q["border-left-width"]+q["border-right-width"]),d&&(k+=Math.max(0,q["margin-left"])+Math.max(0,q["margin-right"]))}return k}function h(a){var b=0,c=0;do c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;while(null!==a);return{top:c,left:b}}function i(a){return!(a.offsetWidth<=0&&a.offsetHeight<=0)}var j=c.util.DOM;j.getCSSProperty=d,j.extractCSSProperties=e,j.getElementHeight=f,j.getElementWidth=g,j.getElementOffset=h,j.isOccupiedPlace=i}(a,a.document,d),function(a,b,d){d.util.callbacks=function(a){var b,e,f,g,h,i,j,k,l=d.util.object,m=l.copy(a),n=[].slice,o=[],p=!m.once&&[],q={add:function(){if(o){var a=o.length;k(arguments),f?h=o.length:b&&(g=a,j(b))}return this},remove:function(){return o&&n.call(arguments).forEach(function(a){for(var b=o.indexOf(a);b>-1;)o.splice(b,1),f&&(h>=b&&h--,i>=b&&i--),b=o.indexOf(a,b)}),this},has:function(a){return a?!!o&&o.indexOf(a)>-1:!(!o||!o.length)},empty:function(){return o=[],h=0,this},disable:function(){return o=p=b=c,this},disabled:function(){return!o},lock:function(){return p=c,b||q.disable(),this},locked:function(){return!p},fireWith:function(a,b){return!o||e&&!p||(b=b||[],b=[a,b.slice?b.slice():b],f?p.push(b):j(b)),this},fire:function(){return q.fireWith(this,arguments),this},fired:function(){return!!e}};return k=function(a){n.call(a).forEach(function(a){var b=typeof a;"function"===b?m.unique&&q.has(a)||o.push(a):a&&a.length&&"string"!==b&&k(a)})},j=function(a){for(b=m.memory&&a,e=!0,i=g||0,g=0,h=o.length,f=!0;o&&h>i;){if(o[i].apply(a[0],a[1])===!1&&m.stopOnFalse){b=!1;break}i++}f=!1,o&&(p?p.length&&j(p.shift()):b?o=[]:q.disable())},q}}(a,a.document,d),function(a,b,c){var d=function(a){var b=c.util.callbacks,e=c.util.object,f=[["resolve","done",b({once:!0,memory:!0}),"resolved"],["reject","fail",b({once:!0,memory:!0}),"rejected"],["notify","progress",b({memory:!0})]],g="pending",h={},i={state:function(){return g},always:function(){return h.done(arguments).fail(arguments),this},then:function(){var a=arguments;return new d(function(b){f.forEach(function(c,d){var e="function"==typeof a[d]&&a[d];h[c[1]](function(){var a=e&&e.apply(this,arguments);a&&"function"==typeof a.promise?a.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[c[0]+"With"](this===i?b.promise():this,e?[a]:arguments)})}),a=null}).promise()},promise:function(a){return a?e.merge(a,i):i}};return i.pipe=i.then,f.forEach(function(a,b){var c=a[2],d=a[3];i[a[1]]=c.add,d&&c.add(function(){g=d},f[1^b][2].disable,f[2][2].lock),h[a[0]]=function(){return h[a[0]+"With"](this===h?i:this,arguments),this},h[a[0]+"With"]=c.fireWith}),i.promise(h),a&&a.call(h,h),h};c.util.deferred=d}(a,a.document,d),function(a,b,d){function e(a){var b=d.getConfig(b);return"data-"+(b?b+"-":"")+a}var f=d.util.selectors,g=d.util.DOM;g.inheritAttr=function(a,b,c){var d,e=a.getAttribute(b);return!e&&(d=f.getClosestBySelector(a,c))?d.getAttribute(b):e},g.getNumberFromAttribute=function(a,b,c,d){var e=a.getAttribute(b),f=d;return e&&("float"===c?(e=parseFloat(e),e&&(f=e)):(e=parseInt(e,10),e&&(f=e))),f},g.setNSData=function(a,b,c){a.setAttribute(e(b),c)},g.getNSData=function(a,b){var c=a.getAttribute(e(b));return"true"===c?!0:"false"===c?!1:c},g.hasNSData=function(a,b){return a.hasAttribute(e(b))},g.nsData=function(a,b,d){return d===c?g.getNSData(a,b):g.setNSData(a,b,d)},g.removeNSData=function(a,b){a.removeAttribute(e(b))},g.getData=function(a){var b,c,d,e,f="data-",g={},h=a.attributes,i=h.length;for(e=0;i>e;e++)b=h.item(e),c=b.nodeName,c.indexOf(f)>-1&&(d=b.value,g[c.replace(f,"")]="true"===d.toLowerCase()?!0:"false"===d.toLowerCase()?!1:d);return g},g.removeAttribute=function(a,b){a.removeAttribute(b),a[b]=!1},g.setAttribute=function(a,b,c){a[b]=c,a.setAttribute(b,c)}}(a,a.document,d),function(a,b){function c(a,b,c){return d.instanceWidget(b,a,c)}var d=b.engine,e={getInstance:d.getBinding,getAllInstances:d.getAllBindings};a.addEventListener(d.eventType.WIDGET_DEFINED,function(a){var d=a.detail,e=d.name;b.widget[e]=c.bind(null,e)},!0),b.widget=e}(a.document,d),function(a,b,c){var d=[].slice,e=b.engine,f=e.dataTau,g=b.util,h=b.event,i=g.DOM,j=g.object,k=function(){return this},l={},m="function";l.configure=function(a,c,d){var e,f,g=this;g.options=g.options||{},g.element=g.element||null,a&&(e=a.name,f=a.namespace,g.name=e,g.widgetName=e,g.widgetEventPrefix=e.toLowerCase(),g.namespace=f,g.widgetFullName=((f?f+"-":"")+e).toLowerCase(),g.id=b.getUniqueId(),g.selector=a.selector),typeof g._configure===m&&g._configure(c),g._getCreateOptions(c),j.fastMerge(g.options,d)},l._getCreateOptions=function(a){var b=this.options,d=/[A-Z]/g;return b!==c&&Object.keys(b).forEach(function(c){var e=i.getNSData(a,c.replace(d,function(a){return"-"+a.toLowerCase()}));null!==e&&(b[c]=e)}),b},l.build=function(a){var b,c,d=this,e=a.getAttribute(f.built),g=a.getAttribute(f.name);return h.trigger(a,d.widgetEventPrefix+"beforecreate"),b=a.id,b?d.id=b:a.id=d.id,c=typeof d._build===m?d._build(a):a,e=e?e+f.separator+d.name:d.name,g=g?g+f.separator+d.name:d.name,a.setAttribute(f.built,e),a.setAttribute(f.name,g),c},l.init=function(a){var b=this;return b.id=a.id,typeof b._init===m&&b._init(a),a.getAttribute("disabled")||b.options.disabled===!0?b.disable():b.enable(),b},l.bindEvents=function(a,b){var c=this,d=a.getAttribute(f.bound);return b||(d=d?d+f.separator+c.name:c.name,a.setAttribute(f.bound,d)),typeof c._buildBindEvents===m&&c._buildBindEvents(a),b||typeof c._bindEvents!==m||c._bindEvents(a),c.trigger(c.widgetEventPrefix+"create",c),c},l.focus=function(b){var c,d,f=this,g=f.element;return b=b||{},f.isDisabled()?!1:(c=b.previousElement,c&&(d=e.getBinding(c),d?(b=j.merge({},b,{element:c}),d.blur(b)):c.blur()),b=j.merge({},b,{element:g}),h.trigger(a,"taufocus",b),g.focus(),!0)},l.blur=function(b){var c=this,d=c.element;return c.isDisabled()?!1:(b=j.merge({},b,{element:d}),h.trigger(a,"taublur",b),d.blur(),!0)},l.destroy=function(a){var b=this;a=a||b.element,typeof b._destroy===m&&b._destroy(a),b.element&&b.trigger(b.widgetEventPrefix+"destroy"),a&&e.removeBinding(a,b.name)},l.disable=function(){var a=this,b=d.call(arguments);return typeof a._disable===m&&(b.unshift(a.element),a._disable.apply(a,b)),this},l.isDisabled=function(){var a=this;return a.element.getAttribute("disabled")||a.options.disabled===!0},l.enable=function(){var a=this,b=d.call(arguments);return typeof a._enable===m&&(b.unshift(a.element),a._enable.apply(a,b)),this},l.refresh=function(){var a=this;return typeof a._refresh===m&&a._refresh.apply(a,arguments),a},l.option=function(){var a,b,e,f=this,g=d.call(arguments),h=g.shift(),i=g.shift(),j=!1;if("string"==typeof h)b=f._oneOption(h,i),h!==c&&i!==c&&(j=b,b=c);else if("object"==typeof h)for(a in h)h.hasOwnProperty(a)&&(e=f._oneOption(a,h[a]),a!==c&&h[a]!==c&&(j=j||e));return j&&f.refresh(),b},l._oneOption=function(a,b){var d,e=this,f=!1;return b===c?(d="_get"+(a[0].toUpperCase()+a.slice(1)),typeof e[d]===m?e[d]():e.options[a]):(d="_set"+(a[0].toUpperCase()+a.slice(1)),typeof e[d]===m?e[d](e.element,b):(e.options[a]=b,e.element&&(e.element.setAttribute("data-"+a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}),b),f=!0)),f)},l.isBound=function(a){var b=this.element;return a=a||this.name,b&&b.hasAttribute(f.bound)&&b.getAttribute(f.bound).indexOf(a)>-1},l.isBuilt=function(a){var b=this.element;return a=a||this.name,b&&b.hasAttribute(f.built)&&b.getAttribute(f.built).indexOf(a)>-1},l.value=function(a){var b=this;return a!==c?typeof b._setValue===m?b._setValue(a):b:typeof b._getValue===m?b._getValue():b},l.trigger=function(a,b,c,d){return h.trigger(this.element,a,b,c,d)},l.on=function(a,b,c){h.on(this.element,a,b,c)},l.off=function(a,b,c){h.off(this.element,a,b,c)},k.prototype=l,b.widget.BaseWidget=k}(a.document,d),function(a,b){b.widget.core=b.widget.core||{}}(a.document,d),function(c){function d(a,b,c){var d=a.element,e=d.classList,f=a._ui.overlay,g=a._callbacks.animationEnd;d.removeEventListener("animationend",g,!1),d.removeEventListener("webkitAnimationEnd",g,!1),b.split(" ").forEach(function(a){a=a.trim(),a.length>0&&(e.remove(a),f&&f.classList.remove(a))}),"pending"===c.state()&&c.resolve()}function e(a,b){var c=new i;return c.then(function(){c===a._callbacks.transitionDeferred&&b()}),a._callbacks.transitionDeferred=c,c}var f=c.widget.BaseWidget,g=c.engine,h=c.util.object,i=c.util.deferred,j=c.util.selectors,k=function(){var a=this,b={};a.selectors=p,a.options=h.merge({},k.defaults),a.storedOptions=null,a.state=m.CLOSED,b.overlay=null,b.header=null,b.footer=null,b.content=null,b.container=null,a._ui=b,a._callbacks={}},l={transition:"none",dismissible:!0,overlay:!0,header:!1,footer:!1,overlayClass:"",history:!0},m={DURING_OPENING:0,OPENED:1,DURING_CLOSING:2,CLOSED:3},n="ui-popup",o={popup:n,active:n+"-active",overlay:n+"-overlay",header:n+"-header",footer:n+"-footer",content:n+"-content"},p={header:"."+o.header,content:"."+o.content,footer:"."+o.footer},q="popup",p={header:"."+o.header,content:"."+o.content,footer:"."+o.footer},r={show:q+"show",hide:q+"hide",before_show:q+"beforeshow",before_hide:q+"beforehide"},s=new f;k.classes=o,k.events=r,k.defaults=l,s._buildContent=function(a){var c,d,e=this,f=e._ui,g=e.selectors,h=f.content||a.querySelector(g.content),i=f.footer||a.querySelector(g.footer),j=[].slice.call(a.childNodes),k=j.length;if(!h){for(h=b.createElement("div"),h.className=o.content,c=0;k>c;++c)d=j[c],d!==f.footer&&d!==f.header&&h.appendChild(d);a.insertBefore(h,i)}h.classList.add(o.content),f.content=h},s._buildHeader=function(a){var c=this,d=c._ui,e=c.options,f=c.selectors,g=d.content||a.querySelector(f.content),h=d.header||a.querySelector(f.header);h||e.header===!1||(h=b.createElement("div"),h.className=o.header,"boolean"!=typeof e.header&&(h.innerHTML=e.header),a.insertBefore(h,g)),h&&h.classList.add(o.header),d.header=h},s._setHeader=function(a,b){var c=this,d=c._ui,e=d.header;e&&(e.parentNode.removeChild(e),d.header=null),c.options.header=b,c._buildHeader(d.container)},s._buildFooter=function(a){var c=this,d=c._ui,e=c.options,f=d.footer||a.querySelector(c.selectors.footer);f||e.footer===!1||(f=b.createElement("div"),f.className=o.footer,"boolean"!=typeof e.footer&&(f.innerHTML=e.footer),a.appendChild(f)),f&&f.classList.add(o.footer),d.footer=f},s._setFooter=function(a,b){var c=this,d=c._ui,e=d.footer;e&&(e.parentNode.removeChild(e),d.footer=null),c.options.footer=b,c._buildFooter(d.container)},s._build=function(a){var b=this,c=b._ui.container||a;return this._buildHeader(c),this._buildFooter(c),this._buildContent(c),this._setOverlay(a,this.options.overlay),a},s._setOverlay=function(a,c){var d=this,e=d.options.overlayClass,f=d._ui,g=f.overlay;c?(g||(g=b.createElement("div"),a.parentNode.insertBefore(g,a),f.overlay=g),g.className=o.overlay+(e?" "+e:"")):g&&(g.parentNode.removeChild(g),f.overlay=null)},s._isActive=function(){var a=this.state;return a===m.DURING_OPENING||a===m.OPENED},s._isOpened=function(){return this.state===m.OPENED},s._init=function(b){var c=this,d=c.selectors,e=c._ui;e.header=e.header||b.querySelector(d.header),e.footer=e.footer||b.querySelector(d.footer),e.content=e.content||b.querySelector(d.content),e.container=b,e.page=j.getClosestByClass(b,"ui-page")||a},s._setActive=function(a){var b=this,c=o.active,d=b.element.classList,e=g.getRouter().getRoute("popup"),f=b.options;"string"!=typeof f.positionTo&&(f.positionTo=null),a?(e.setActive(b,f),d.add(c),b.state=m.OPENED):(e.setActive(null,f),d.remove(c),b.state=m.CLOSED)},s._bindEvents=function(){var b=this;b._ui.page.addEventListener("pagebeforehide",b,!1),a.addEventListener("resize",b,!1),b._bindOverlayEvents()},s._bindOverlayEvents=function(){var a=this._ui.overlay;a&&a.addEventListener("click",this,!1)},s._unbindOverlayEvents=function(){var a=this._ui.overlay;a&&a.removeEventListener("click",this,!1)},s._unbindEvents=function(){var b=this;b._ui.page.removeEventListener("pagebeforehide",b,!1),a.removeEventListener("resize",b,!1),b._unbindOverlayEvents()},s.open=function(a){var b,c=this;c._isActive()||(c._storeOpenOptions(a),b=h.merge(c.options,a),b.dismissible||g.getRouter().lock(),c._show(b))},s.close=function(a){var b=this,c=h.merge(b.options,a);b._isActive()&&(c.dismissible||g.getRouter().unlock(),b._hide(c))},s._storeOpenOptions=function(a){var b=this,c=b.options,d={};for(key in a)a.hasOwnProperty(key)&&(d[key]=c[key]);b.storedOptions=d},s._restoreOpenOptions=function(){var a=this;options=a.options,propertiesToRemove=["x","y","fromHashChange"],options=h.merge(options,a.storedOptions),h.removeProperties(options,propertiesToRemove)},s._show=function(a){var b=this,c=h.merge({},a);b.state=m.DURING_OPENING,c.ext=" in ",b.trigger(r.before_show),b._transition(c,b._onShow.bind(b))},s._onShow=function(){var a=this,b=a._ui.overlay;b&&(b.style.display="block"),a._setActive(!0),a.trigger(r.show)},s._hide=function(a){var b=this,c=b._isOpened();b.state=m.DURING_CLOSING,b.trigger(r.before_hide),c?(a.ext=" out ",b._transition(a,b._onHide.bind(b))):(b._callbacks.transitionDeferred.reject(),b._callbacks.animationEnd(),b._onHide())},s._onHide=function(){var a=this,b=a._ui.overlay;b&&(b.style.display=""),a._setActive(!1),a._restoreOpenOptions(),a.trigger(r.hide)},s.handleEvent=function(a){var b=this;switch(a.type){case"pagebeforehide":b.close({transition:"none"});break;case"resize":b._onResize(a);break;case"click":a.target===b._ui.overlay&&b._onClickOverlay(a)}},s._refresh=function(){var a=this;a._unbindOverlayEvents(),a._setOverlay(a.element,a.options.overlay),a._bindOverlayEvents()},s._onClickOverlay=function(a){var b=this.options;a.preventDefault(),a.stopPropagation(),b.dismissible&&this.close()},s._onResize=function(){this._isOpened()&&this._refresh()},s._transition=function(b,c){var f,g,h=this,i=b.transition||h.options.transition||"none",j=i+b.ext,k=h.element,l=h._ui.overlay,m=k.classList;return f=e(h,c),"none"!==i?(g=d.bind(null,h,j,f),h._callbacks.animationEnd=g,k.addEventListener("animationend",g,!1),k.addEventListener("webkitAnimationEnd",g,!1),j.split(" ").forEach(function(a){a=a.trim(),a.length>0&&(m.add(a),l&&l.classList.add(a))
})):a.setTimeout(f.resolve,0),f},s._destroy=function(){var a=this,b=a.element;a._unbindEvents(b),a._setOverlay(b,!1)},k.prototype=s,c.widget.core.Popup=k,g.defineWidget("Popup","[data-role='popup'], .ui-popup",["open","close","reposition"],k,"core")}(d),function(a,b,c){function d(b,c){var d,e,f,g=b.options,h=g.arrow.split(","),i=b.element,j=a.innerWidth,k=a.innerHeight,l=i.offsetWidth,m=i.offsetHeight,n=c.getBoundingClientRect(),o=n.left,p=n.top,q=Math.min(n.width,j-o),r=Math.min(n.height,k-p),s={l:{dir:"l",fixedPositionField:"x",fixedPositionFactor:1,size:l,max:o},r:{dir:"r",fixedPositionField:"x",fixedPositionFactor:-1,size:l,max:j-o-q},b:{dir:"b",fixedPositionField:"y",fixedPositionFactor:-1,size:m,max:p},t:{dir:"t",fixedPositionField:"y",fixedPositionFactor:1,size:m,max:k-p-r}};return d=s[h[0]]||s.t,h.forEach(function(a){var b=s[a],c=b.max;e||(b.size<c?e=b:c>d.max&&(d=b))}),e||(e=d,"x"===e.fixedPositionField?l=e.max:m=e.max),f={x:o+q/2-l/2,y:p+r/2-m/2,w:l,h:m,dir:e.dir},f[e.fixedPositionField]+=("x"===e.fixedPositionField?(l+q)*e.fixedPositionFactor:(m+r)*e.fixedPositionFactor)/2+g.distance*e.fixedPositionFactor,f}function e(b,c,d,e){var f,g,h=b._ui,i=h.wrapper,j=h.arrow,l=b.element,m=j.style,n=a.innerWidth,o=a.innerHeight,p=i.getBoundingClientRect(),q=j.offsetWidth/2,r={"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0},s={"margin-top":0,"margin-bottom":0,"margin-left":0,"margin-right":0,"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0},t={t:{pos:d,min:"left",max:"right",posField:"x",valField:"w",styleField:"left"},b:{pos:d,min:"left",max:"right",posField:"x",valField:"w",styleField:"left"},l:{pos:e,min:"top",max:"bottom",posField:"y",valField:"h",styleField:"top"},r:{pos:e,min:"top",max:"bottom",posField:"y",valField:"h",styleField:"top"}},u=t[c.dir];return k.extractCSSProperties(l,r),k.extractCSSProperties(i,s),f={t:r["padding-top"]+s["margin-top"]+s["padding-top"],b:r["padding-bottom"]+s["margin-bottom"]+s["padding-bottom"],l:r["padding-left"]+s["margin-left"]+s["padding-left"],r:r["padding-right"]+s["margin-right"]+s["padding-right"]},p={left:f.l+c.x,right:f.l+p.width+c.x,top:f.t+c.y,bottom:p.height+f.t+c.y},p[u.min]>u.pos-q?(g=c[u.posField],g>0?(c[u.posField]=Math.max(u.pos-q,0),u.pos=c[u.posField]+q):u.pos=p[u.min]+q):p[u.max]<u.pos+q&&(g=("w"===u.valField?n:o)-(c[u.posField]+c[u.valField]),g>0?(c[u.posField]+=Math.min(g,u.pos+q-p[u.max]),u.pos=c[u.posField]+c[u.valField]-q):u.pos=p[u.max]-q),m[u.styleField]=u.pos-q-c[u.posField]+"px",c}function f(a,b){var c=b.getBoundingClientRect(),d={};switch(a){case"l":d.x=c.right,d.y=c.top+c.height/2;break;case"r":d.x=c.left,d.y=c.top+c.height/2;break;case"t":d.x=c.left+c.width/2,d.y=c.bottom;break;case"b":d.x=c.left+c.width/2,d.y=c.top}return d}var g=c.widget.core.Popup,h=g.prototype,i=c.engine,j=c.util.object,k=c.util.DOM,l=j.merge({},g.defaults,{arrow:"l,b,r,t",positionTo:"window",distance:0}),m=function(){var a,b=this;g.call(b),b.options=j.merge(b.options,l),a=b._ui||{},a.wrapper=null,a.arrow=null,b._ui=a},n="ui-popup",o=j.merge({},g.classes,{wrapper:n+"-wrapper",context:"ui-ctxpopup",arrow:"ui-arrow",arrowDir:n+"-arrow-",build:"ui-build"}),p=j.merge({},g.events,{before_position:"beforeposition"}),q={WINDOW:"window",ORIGIN:"origin"},r=new g;m.defaults=l,m.classes=o,m.events=p,r._build=function(a){var c,d,e=this,f=e._ui,g=a.firstChild;for(a.classList.add(o.popup),c=b.createElement("div"),c.classList.add(o.wrapper),f.wrapper=c,f.container=c;g;)c.appendChild(g),g=a.firstChild;return d=b.createElement("div"),d.appendChild(b.createElement("span")),d.classList.add(o.arrow),f.arrow=d,a.appendChild(c),a.appendChild(d),h._build.call(e,a),a},r._init=function(a){var b=this,c=b._ui;h._init.call(this,a),c.wrapper=c.wrapper||a.querySelector("."+o.wrapper),c.arrow=c.arrow||a.querySelector("."+o.arrow),c.container=c.wrapper},r._reposition=function(a){var b=this,c=b.element,d=c.classList;a=j.merge({},b.options,a),b.trigger(p.before_position,null,!1),d.add(o.build),b._setContentHeight(),b._placementCoords(a),d.remove(o.build)},r._placementCoordsWindow=function(b){var c=b.style,d=b.offsetWidth,e=b.offsetHeight;c.top=a.innerHeight-e+"px",c.left="50%",c.marginLeft=-(d/2)+"px"},r._findClickedElement=function(a,c){return b.elementFromPoint(a,c)},r._placementCoords=function(a){var c,g,h,i,j,k=this,l=a.positionTo,m=a.x,n=a.y,p=k.element,r=p.style,s=p.classList;if("string"==typeof l){if(l===q.ORIGIN&&"number"==typeof m&&"number"==typeof n)h=k._findClickedElement(m,n);else if(l!==q.WINDOW)try{h=b.querySelector(a.positionTo)}catch(t){}}else h=l;h?(s.add(o.context),g=p.offsetHeight,j=d(k,h),i=j.dir,s.add(o.arrowDir+i),k._ui.arrow.setAttribute("type",i),"number"!=typeof m&&"number"!=typeof n&&(c=f(i,h),m=c.x,n=c.y),j=e(k,j,m,n),g>j.h&&k._setContentHeight(j.h),r.left=j.x+"px",r.top=j.y+"px"):k._placementCoordsWindow(p)},r._setContentHeight=function(b){var c,d,e,f=this,g=f.element,h=f._ui.content;h&&(c=h.style,(c.height||c.minHeight)&&(c.height="",c.minHeight=""),b=b||a.innerHeight,d=h.offsetHeight,e=g.offsetHeight,e>b&&(d-=e-b,c.height=d+"px",c.minHeight=d+"px"))},r._onHide=function(){var a=this,b=a._ui,c=a.element,d=c.classList,e=(b.content,b.arrow);d.remove(o.context),["l","r","b","t"].forEach(function(a){d.remove(o.arrowDir+a)}),c.removeAttribute("style"),e.removeAttribute("style"),h._onHide.call(a)},r._destroy=function(){var a=this,b=a.element,c=a._ui,d=c.wrapper;h._destroy.call(a),[].forEach.call(d.children,function(a){b.appendChild(a)}),d.parentNode.removeChild(d),c.arrow.parentNode.removeChild(c.arrow),c.wrapper=null,c.arrow=null},r._show=function(a){this._reposition(a),h._show.call(this,a)},r.reposition=function(a){this._isActive()&&this._reposition(a)},m.prototype=r,c.widget.core.ContextPopup=m,i.defineWidget("Popup","[data-role='popup'], .ui-popup",["open","close","reposition"],m,"core",!0),c.widget.popup=c.widget.Popup}(a,a.document,d),function(a,b){b.widget.wearable=b.widget.wearable||{}}(a,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Button=e,d.defineWidget("Button",".ui-btn",[],e,"wearable")}(a.document,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Listview=e,d.defineWidget("Listview",".ui-listview",[],e,"wearable")}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=c.util,f=e.DOM,g=c.engine,h=function(){var a=this;a.contentFillAfterResizeCallback=null,a.options={}},i={SHOW:"pageshow",HIDE:"pagehide",CREATE:"pagecreate",BEFORE_CREATE:"pagebeforecreate",BEFORE_SHOW:"pagebeforeshow",BEFORE_HIDE:"pagebeforehide"},j={uiPage:"ui-page",uiPageActive:"ui-page-active",uiSection:"ui-section",uiHeader:"ui-header",uiFooter:"ui-footer",uiContent:"ui-content",uiPageScroll:"ui-page-scroll"},k=new d;h.classes=j,h.events=i,k._contentFill=function(){var b,c,d,e,g,h,i=this,k=i.element,l=a.innerWidth,m=a.innerHeight,n=j.uiContent,o=j.uiHeader,p=j.uiFooter,q=0,r=[].slice.call(k.children),s=r.length,t=k.style;for(t.width=l+"px",t.height=m+"px",b=0;s>b;b++)c=r[b],(c.classList.contains(o)||c.classList.contains(p))&&(q+=f.getElementHeight(c));for(b=0;s>b;b++)c=r[b],h=c.style,c.classList.contains(n)&&(d=a.getComputedStyle(c),e=parseFloat(d.marginTop),g=parseFloat(d.marginBottom),h.height=m-q-e-g+"px",h.width=l+"px")},k._build=function(a){return a.classList.add(j.uiPage),a},k.setActive=function(a){var b=this.element.classList;a?b.add(j.uiPageActive):b.remove(j.uiPageActive)},k.isActive=function(){return this.element.classList.contains(j.uiPageActive)},k._bindEvents=function(){var b=this;b.contentFillAfterResizeCallback=b._contentFill.bind(b),a.addEventListener("resize",b.contentFillAfterResizeCallback,!1)},k._refresh=function(){this._contentFill()},k.layout=function(){this._contentFill()},k.onBeforeShow=function(){this.trigger(i.BEFORE_SHOW)},k.onShow=function(){this.trigger(i.SHOW)},k.onBeforeHide=function(){this.trigger(i.BEFORE_HIDE)},k.onHide=function(){this.trigger(i.HIDE)},k._destroy=function(){var b=this,c=b.element;c=c||b.element,a.removeEventListener("resize",b.contentFillAfterResizeCallback,!1),g.destroyAllWidgets(c,!0)},h.prototype=k,c.widget.wearable.Page=h,g.defineWidget("page","[data-role=page],.ui-page",["onBeforeShow","onShow","onBeforeHide","onHide","setActive","layout"],h,"wearable")}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=(c.widget.wearable.Page,c.util),f=c.event,g=e.DOM,h=c.engine,i={uiViewportTransitioning:"ui-viewport-transitioning",out:"out","in":"in",uiPreIn:"ui-pre-in",uiBuild:"ui-page-build"},j=function(){this.activePage=null},k={PAGE_CHANGE:"pagechange"},l="animationend",m="webkitAnimationEnd",n=new d;j.events=k,j.classes=i,n.change=function(a,b){var d,e=this,f=e.getActivePage();b=b||{},f&&f.element===a||(a.parentNode!==e.element&&(a=e._include(a)),a.classList.add(i.uiBuild),d=h.instanceWidget(a,"page"),d.layout(),c.getConfig("autoBuildOnPageChange",!1)&&h.createWidgets(a),f&&f.onBeforeHide(),d.onBeforeShow(),a.classList.remove(i.uiBuild),b.deferred={resolve:function(){f&&(f.onHide(),e._removeExternalPage(f,b)),d.onShow(),e.trigger(k.PAGE_CHANGE)}},e._transition(d,f,b))},n._transition=function(b,c,d){var e,g,h,j,k=this,n=k.element,o=n.classList,p=c&&d.transition?d.transition:"none",q=d.deferred,r="reverse",s=[i.in,i.out,i.uiPreIn,p];d.reverse&&s.push(r),o.add(i.uiViewportTransitioning),e=q.resolve,q.resolve=function(){var a=c&&c.element.classList,d=b.element.classList;o.remove(i.uiViewportTransitioning),d.remove.apply(d,s),a&&a.remove.apply(a,s),k._setActivePage(b),e()},"none"!==p?(j=function(){f.off(b.element,[l,m],j,!1),q.resolve()},f.one(b.element,[l,m],j,!1),c&&(h=[],h.push(p,i.out),d.reverse&&h.push(r),g=c.element.classList,g.add.apply(g,h)),g=b.element.classList,h=[],h.push(p,i.in,i.uiPreIn),d.reverse&&h.push(r),g.add.apply(g,h)):a.setTimeout(q.resolve,0)},n._include=function(a){var b=this.element;return a.parentNode!==b&&(a=e.importEvaluateAndAppendElement(a,b)),a},n._setActivePage=function(a){var b=this;b.activePage&&b.activePage.setActive(!1),b.activePage=a,a.setActive(!0)},n.getActivePage=function(){return this.activePage},n.showLoading=function(){return null},n.hideLoading=function(){return null},n._removeExternalPage=function(a,b){var c=a.element;b=b||{},b.reverse&&g.hasNSData(c,"external")&&(a.destroy(),c.parentNode&&c.parentNode.removeChild(c))},j.prototype=n,c.widget.wearable.PageContainer=j,h.defineWidget("pagecontainer","",["change","getActivePage","showLoading","hideLoading"],j,"wearable")}(a.document,d),function(a,b,c){function d(a,b,c,d){var e,f,g,h;for(e=0,f=d.length;f>e;++e)h=d[e],(isNaN(c[h])===!1||isNaN(a[h])===!1)&&(g=Object.getOwnPropertyDescriptor(b,h),(!g||g.writable)&&(b[h]=c[h]||a[h]))}function e(a,b,c){var e,f,g,h,i=new CustomEvent(a,{bubbles:b.bubbles,cancelable:b.cancelable,detail:b.detail}),j=b.type,k=0;if(d(b,i,c,x),i._originalEvent=b,-1!==j.indexOf("touch")&&(j=b.touches,e=b.changedTouches,f=j&&j.length?j[0]:e&&e.length?e[0]:null))for(g=C.length;g>k;k++)h=C[k],i[h]=f[h];return i}function f(a,b,c){return b.target.dispatchEvent(e(a,b,c||{}))}function g(a){f("vmousedown",a)}function h(a){var b=a.clientX,c=a.clientY;return b||c?void 0:t(a)}function i(a){f("vclick",a,h(a))}function j(a){f("vmouseup",a)}function k(a){f("vmousemove",a)}function l(a){f("vmouseover",a)}function m(a){f("vmouseout",a)}function n(a){var b,c=a.touches;c&&1===c.length&&(y=!1,b=c[0],A=b.pageX,B=b.pageY,f("vmouseover",a),f("vmousedown",a))}function o(a){var b=a.touches;b&&0===b.length&&(f("vmouseup",a),f("vmouseout",a))}function p(a){var c,d=a.touches&&a.touches[0],e=y,g=w.eventDistanceThreshold;return d.identifier>0?(a.preventDefault(),a.stopPropagation(),void 0):(y=y||Math.abs(d.pageX-A)>g||Math.abs(d.pageY-B)>g,c=b.elementFromPoint(a.pageX,a.pageY),c&&f("_touchover",a),y&&!e&&f("vmousecancel",a),f("vmousemove",a),void 0)}function q(a){y||f("vmousecancel",a),y=!0}function r(a){f("vmousecancel",a)}function s(){return!1}function t(a){var b=a.target&&a.target.getBoundingClientRect(),c={};return b&&(c={clientX:b.left+b.width/2,clientY:b.top+b.height/2,which:1}),c}function u(a){var b;a.keyCode===D.enter&&(b=t(a),f("vmouseup",a,b),f("vclick",a,b))}function v(a){a.keyCode===D.enter&&f("vmousedown",a,t(a))}var w,x,y,z=a.hasOwnProperty("ontouchstart"),A=0,B=0,C=["clientX","clientY","pageX","pageY","screenX","screenY"],D={enter:13};x=["currentTarget","detail","button","buttons","clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","toElement","which"],w={eventDistanceThreshold:10,touchSupport:z},w.bindCommonEvents=function(){b.addEventListener("keyup",u,!0),b.addEventListener("keydown",v,!0),b.addEventListener("scroll",q,!0),b.addEventListener("click",i,!0)},w.bindTouch=function(){b.addEventListener("touchstart",n,!0),b.addEventListener("touchend",o,!0),b.addEventListener("touchmove",p,!0),b.addEventListener("touchenter",s,!0),b.addEventListener("_touchover",s,!0),b.addEventListener("touchcancel",r,!0)},w.bindMouse=function(){b.addEventListener("mousedown",g,!0),b.addEventListener("mouseup",j,!0),b.addEventListener("mousemove",k,!0),b.addEventListener("mouseover",l,!0),b.addEventListener("mouseout",m,!0)},c.event.vmouse=w,z?w.bindTouch():w.bindMouse(),w.bindCommonEvents()}(a,a.document,d),function(a,b){b.widget.wearable.indexscrollbar=b.widget.wearable.indexscrollbar||{}}(a,d),function(a,b){function c(a,b){return this.element=a,this.options=d.merge(b,this._options,!1),this.container=this.options.container,this.indices={original:this.options.index,merged:[]},this._init(),this}var d=b.util.object,e=b.util.DOM;c.prototype={_options:{container:null,offsetLeft:0,index:[],verticalCenter:!1,moreChar:"*",indexHeight:41,selectedClass:"ui-state-selected",ulClass:null,maxIndexLen:0},_init:function(){this.indices.original=this.options.index,this.indexLookupTable=[],this.indexElements=null,this.selectedIndex=-1,this.visiblity="hidden",this._setMaxIndexLen(),this._makeMergedIndices(),this._drawDOM(),this._appendToContainer(),this.options.verticalCenter&&this._adjustVerticalCenter(),this._setIndexCellInfo()},_clear:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.indices.merged.length=0,this.indexLookupTable.length=0,this.indexElements=null,this.selectedIndex=-1,this.visiblity=null},refresh:function(){this._clear(),this._init()},destroy:function(){this._clear()},show:function(){this.visibility="visible",this.element.style.visibility=this.visibility},hide:function(){this.visibility="hidden",this.element.style.visibility=this.visibility},isShown:function(){return"visible"===this.visibility},_setMaxIndexLen:function(){var a,b=this.container.offsetHeight;a=Math.floor(b/this.options.indexHeight),a>0&&a%2===0&&(a-=1),this.options.maxIndexLen=this.options.maxIndexLen>0?Math.min(a,this.options.maxIndexLen):a},_makeMergedIndices:function(){var a,b,c=this.indices.original,d=c.length,e=Math.min(this.options.maxIndexLen,d),f=d-e,g=parseInt(f/parseInt(e/2,10),10),h=f%parseInt(e/2,10),i=[],j=[],k=0;for(a=0,b=e;b>a;a++)i[a]=1,a%2&&(i[a]+=g+(h-->0?1:0)),k+=i[a],j.push({start:k-1,length:i[a]});this.indices.merged=j},_drawDOM:function(){var b,c,d,e,f,g=this.indices.original,h=this.indices.merged,i=h.length,j=this.options.indexHeight,k=this.options.moreChar,l=9;for(c=a.createDocumentFragment(),e=0;i>e;e++)f=h[e],b=1===f.length?g[f.start]:k,d=a.createElement("li"),d.innerText=b.toUpperCase(),d.style.height=j+"px",d.style.lineHeight=b===k?j+l+"px":j+"px",c.appendChild(d);this.element.appendChild(c),this.options.ulClass&&this.element.classList.add(this.options.ulClass)},_adjustVerticalCenter:function(){var a=this.indices.merged.length,b=a*this.options.indexHeight,c=parseInt((this.container.offsetHeight-b)/2,10);this.element.style.paddingTop=c+"px"},_appendToContainer:function(){this.container.appendChild(this.element),this.element.style.left=this.options.offsetLeft+"px"},setPaddingTop:function(a){var b=this.element.clientHeight,c=this.element.style.paddingTop,d=this.container.clientHeight;c=""===c?0:parseInt(c,10),b-=c,b>d&&(a-=a+b-d),this.element.style.paddingTop=a+"px",this._setIndexCellInfo()},getOffsetTopByIndex:function(a){var b=this.indexLookupTable[a].cellIndex,c=this.indexElements[b],d=c.offsetTop;return d},_setIndexCellInfo:function(){var a=this.element,b=this.indices.merged,c=e.getElementOffset(this.container).top,d=this.element.querySelectorAll("LI"),f=[];[].forEach.call(d,function(a,d){for(var e=b[d],g=e.start,h=g+e.length,i=c+a.offsetTop,j=a.offsetHeight/e.length;h>g;g++)f.push({cellIndex:d,top:i,range:j}),i+=j}),this.indexLookupTable=f,this.indexElements=a.children},getIndexByPosition:function(a){var b,c,d,e,f=this.indexLookupTable;if(f[0]&&(b=f[0],a<b.top))return 0;if(f[f.length-1]&&(b=f[f.length-1],a>=b.top+b.range))return f.length-1;for(c=0,d=f.length;d>c;c++)if(b=f[c],e=a-b.top,e>=0&&e<b.range)return c;return 0},getValueByIndex:function(a){return 0>a&&(a=0),this.indices.original[a]},select:function(a){var b,c;this.clearSelected(),this.selectedIndex!==a&&(this.selectedIndex=a,b=this.indexLookupTable[a].cellIndex,c=this.indexElements[b],c.classList.add(this.options.selectedClass))},clearSelected:function(){var a=this.element,b=this.options.selectedClass,c=a.querySelectorAll("."+b);[].forEach.call(c,function(a){a.classList.remove(b)}),this.selectedIndex=-1}},b.widget.wearable.indexscrollbar.IndexBar=c}(a.document,d),function(b,c){function d(a){a.preventDefault(),a.stopPropagation()}function e(a,b){return this.element=a,this.options=f.merge(b,this._options,!1),this.value=null,this._init(),this}var f=c.util.object,g=c.event;e.prototype={_options:{className:"ui-indexscrollbar-indicator",selectedClass:"ui-selected",container:null},_init:function(){var a=this,b=a.options,c=a.element;c.className=b.className,c.innerHTML="<span></span>",g.on(c,["touchstart","touchmove"],d,!1),b.container.insertBefore(c,b.referenceElement),a.fitToContainer()},fitToContainer:function(){var b=this.element,c=this.options.container,d=a.getComputedStyle(c).position;b.style.width=c.offsetWidth+"px",b.style.height=c.offsetHeight+"px","absolute"!==d&&"relative"!==d&&(b.style.top=c.offsetTop+"px",b.style.left=c.offsetLeft+"px")},setValue:function(a){this.value=a,a=a.toUpperCase();var b=a.substr(a.length-1),c=a.substr(0,a.length-1),d="<span>"+c+'</span><span class="ui-selected">'+b+"</span>";this.element.firstChild.innerHTML=d},show:function(){this.element.style.display="block"},hide:function(){this.element.style.display="none"},destroy:function(){for(var a=this.element;a.firstChild;)a.removeChild(a.firstChild);g.off(a,["touchstart","touchmove"],d,!1),this.element=null}},c.widget.wearable.indexscrollbar.IndexIndicator=e}(a.document,d),function(b,c){var d=function(){this.element=null,this.indicator=null,this.indexBar1=null,this.indexBar2=null,this.index=null,this.touchAreaOffsetLeft=0,this.indexElements=null,this.selectEventTriggerTimeoutId=null,this.ulMarginTop=0,this.eventHandlers={}},e=c.widget.BaseWidget,f=c.engine,g=c.event,h=c.util.object,i=c.widget.wearable.indexscrollbar.IndexBar,j=c.widget.wearable.indexscrollbar.IndexIndicator,k={SELECT:"select"},l="vmousedown",m="vmousemove",n="vmouseup",o=!1,p=new e;d.prototype=p,h.merge(p,{widgetName:"IndexScrollbar",widgetClass:"ui-indexscrollbar",_configure:function(){this.options={moreChar:"*",selectedClass:"ui-state-selected",indicatorClass:"ui-indexscrollbar-indicator",delimiter:",",index:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","1"],maxIndexLen:0,indexHeight:41,keepSelectEventDelay:50,container:null,supplementaryIndex:null,supplementaryIndexMargin:1}},_build:function(a){return a},_init:function(a){var b=this,c=b.options;return b._setIndex(a,c.index),b._setMaxIndexLen(a,c.maxIndexLen),b._setInitialLayout(),b._createSubObjects(),b._updateLayout(),b._extended(!0),a},_refresh:function(){this._isExtended()&&(this._unbindEvent(),this.indicator.hide(),this._extended(!1)),this._updateLayout(),this.indexBar1.refresh(),this._extended(!0)},_destroy:function(){var a=this;a.isBound()&&(a._unbindEvent(),a._extended(!1),a._destroySubObjects(),a.indicator=null,a.index=null,a.eventHandlers={})},_createSubObjects:function(){var a=this,c=a.options,d=a.element;a.indexBar1=new i(b.createElement("UL"),{container:d,offsetLeft:0,index:c.index,verticalCenter:!0,indexHeight:c.indexHeight,maxIndexLen:c.maxIndexLen}),"function"==typeof c.supplementaryIndex&&(a.indexBar2=new i(b.createElement("UL"),{container:d,offsetLeft:-d.clientWidth-c.supplementaryIndexMargin,index:[],indexHeight:c.indexHeight,ulClass:"ui-indexscrollbar-supplementary"}),a.indexBar2.hide()),a.indicator=new j(b.createElement("DIV"),{container:a._getContainer(),referenceElement:a.element,className:c.indicatorClass})},_destroySubObjects:function(){var a,b,c,d={iBar1:this.indexBar1,iBar2:this.indexBar2,indicator:this.indicator};for(c in d)a=d[c],a&&(b=a.element,a.destroy(),b.parentNode.removeChild(b))},_setInitialLayout:function(){var b=this.element,c=this._getContainer(),d=a.getComputedStyle(c).position,e=b.style;"absolute"!==d&&"relative"!==d&&(e.top=c.offsetTop+"px",e.height=c.offsetHeight+"px")},_setMaxIndexLen:function(a,b){var c=this,d=c.options,e=c._getContainer(),f=e.offsetHeight;0>=b&&(b=Math.floor(f/d.indexHeight)),b>0&&b%2===0&&(b-=1),d.maxIndexLen=b},_updateLayout:function(){this._setInitialLayout(),this._draw(),this.touchAreaOffsetLeft=this.element.offsetLeft-10},_draw:function(){return this.indexBar1.show(),this},_removeIndicator:function(){var a=this.indicator,b=a.element.parentNode;b.removeChild(a.element),a.destroy(),this.indicator=null},_getEventReceiverByPosition:function(b){var c,d=a.innerWidth,e=this.element.clientWidth;return c=this.options.supplementaryIndex?b>=d-e&&d>=b?this.indexBar1:this.indexBar2:this.indexBar1},_updateIndicatorAndTriggerEvent:function(b){this.indicator.setValue(b),this.indicator.show(),this.selectEventTriggerTimeoutId&&a.clearTimeout(this.selectEventTriggerTimeoutId),this.selectEventTriggerTimeoutId=a.setTimeout(function(){this.trigger(k.SELECT,{index:b}),this.selectEventTriggerTimeoutId=null}.bind(this),this.options.keepSelectEventDelay)},_onTouchStartHandler:function(a){o=!0;var b=a.touches||a._originalEvent&&a._originalEvent.touches;if(b&&b.length>1)return a.preventDefault(),a.stopPropagation(),void 0;var c=this._getPositionFromEvent(a),d=this.indexBar1,e=d.getIndexByPosition(c.y),f=d.getValueByIndex(e);d.select(e),this._updateIndicatorAndTriggerEvent(f)},_onTouchMoveHandler:function(a){var b=a._originalEvent&&a._originalEvent.touches;if(b&&b.length>1||!o)return g.preventDefault(a),g.stopPropagation(a),void 0;var c,d,e,f=this._getPositionFromEvent(a),h=this.indexBar1,i=this.indexBar2;d=this._getEventReceiverByPosition(f.x),d===i&&(i.options.index=this.options.supplementaryIndex(h.getValueByIndex(h.selectedIndex)),i.refresh()),c=d.getIndexByPosition(f.y),e=d.getValueByIndex(c),d===i?e=h.getValueByIndex(h.selectedIndex)+e:i&&!i.isShown()&&i.setPaddingTop(h.getOffsetTopByIndex(h.selectedIndex)),d.select(c),d.show(),h===d&&i&&i.hide(),this._updateIndicatorAndTriggerEvent(e),g.preventDefault(a),g.stopPropagation(a)},_onTouchEndHandler:function(a){var b=this,c=a._originalEvent&&a._originalEvent.touches;(c&&0===c.length||!c)&&(o=!1),b.indicator.hide(),b.indexBar1.clearSelected(),b.indexBar2&&(b.indexBar2.clearSelected(),b.indexBar2.hide())},_bindEvents:function(){this._bindResizeEvent(),this._bindEventToTriggerSelectEvent()},_unbindEvent:function(){this._unbindResizeEvent(),this._unbindEventToTriggerSelectEvent()},_bindResizeEvent:function(){this.eventHandlers.onresize=function(){this.refresh()}.bind(this),a.addEventListener("resize",this.eventHandlers.onresize)},_unbindResizeEvent:function(){this.eventHandlers.onresize&&a.removeEventListener("resize",this.eventHandlers.onresize)},_bindEventToTriggerSelectEvent:function(){var a=this;a.eventHandlers.touchStart=a._onTouchStartHandler.bind(a),a.eventHandlers.touchEnd=a._onTouchEndHandler.bind(a),a.eventHandlers.touchMove=a._onTouchMoveHandler.bind(a),a.element.addEventListener(l,a.eventHandlers.touchStart),b.addEventListener(m,a.eventHandlers.touchMove),b.addEventListener(n,a.eventHandlers.touchEnd),b.addEventListener("touchcancel",a.eventHandlers.touchEnd)},_unbindEventToTriggerSelectEvent:function(){var a=this;a.element.removeEventListener(l,a.eventHandlers.touchStart),b.removeEventListener(m,a.eventHandlers.touchMove),b.removeEventListener(n,a.eventHandlers.touchEnd),b.removeEventListener("touchcancel",a.eventHandlers.touchEnd)},_data:function(a,b){var c,d=this.element,e=d.__data;if(e||(e=d.__data={}),"object"==typeof a){for(c in a)this._data(c,a[c]);return this}return"undefined"==typeof b?e[a]:(e[a]=b,this)},_isValidElement:function(a){return a.classList.contains(this.widgetClass)},_isExtended:function(){return!!this._data("extended")},_extended:function(a){return this._data("extended",a),this},_setIndex:function(a,b){var c=this.options;"string"==typeof b&&(b=b.split(c.delimiter)),c.index=b},_getOffset:function(a){var b=0,c=0;do c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;while(a);return{top:c,left:b}},_getContainer:function(){return this.options.container||this.element.parentNode},_getPositionFromEvent:function(a){return-1!==a.type.search(/^touch/)?{x:a.touches[0].clientX,y:a.touches[0].clientY}:{x:a.clientX,y:a.clientY}},addEventListener:function(a,b){this.element.addEventListener(a,b)},removeEventListener:function(a,b){this.element.removeEventListener(a,b)}}),c.widget.wearable.IndexScrollbar=d,f.defineWidget("IndexScrollbar",".ui-indexscrollbar",[],d,"wearable")}(a.document,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){return this},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Progress=e,d.defineWidget("Progress","progress",[],e,"wearable")}(a.document,d),function(a,b){var c=b.widget.BaseWidget,d=b.engine,e=function(){return this},f=new c;e.events={},f._build=function(a){return a},f._init=function(a){return a},f._bindEvents=function(a){return a},f._refresh=function(){return null},f._destroy=function(){return null},e.prototype=f,b.widget.wearable.Progressing=e,d.defineWidget("Progressing",".ui-progress",[],e,"wearable")}(a.document,d),function(a,b){function c(a){return k[a]}function d(a,b){a.classList.add(c(b))}function e(b){return a.createElement(b)}var f=b.widget.BaseWidget,g=b.engine,h=function(){this.options={text:null}},i={},j="ui-switch",k={handler:j+"-handler",inneroffset:j+"-inneroffset",activation:j+"-activation",input:j+"-input",text:j+"-text"},l=new f;h.events=i,h.classes=k,l._build=function(a){var b,c=this.options,f=c.text,g=e("label"),h=e("input"),i=e("div"),j=e("div"),k=e("div");return f&&(b=e("div"),d(b,"text"),b.innerHTML=f,a.appendChild(b)),d(k,"handler"),j.appendChild(k),d(j,"inneroffset"),i.appendChild(j),d(i,"activation"),g.classList.add("ui-toggleswitch"),h.type="checkbox",d(h,"input"),g.appendChild(h),g.appendChild(i),a.appendChild(g),a},h.prototype=l,b.widget.wearable.ToggleSwitch=h,g.defineWidget("ToggleSwitch",".ui-switch",[],h,"wearable")}(a.document,d),function(b,c){function d(a){for(var b=a.element.children,c=b.length;--c>=0;)b[c].classList.remove(A.classes.uiListviewActive)}function e(b,c){var e=c.changedTouches||c._originalEvent&&c._originalEvent.changedTouches,f=e&&e.length?e[0]:c;c.type===C?Math.abs(z.clientX-f.clientX)>10&&Math.abs(z.clientY-f.clientY)>10&&(d(b),a.clearTimeout(m)):(d(b),a.clearTimeout(m))}function f(a){var b;b="LI"===n.tagName?n:n.parentNode,n.removeEventListener(C,y,!1),n.removeEventListener(D,y,!1),y=null,d(a),b.classList.add(A.classes.uiListviewActive),z={}}function g(b,c){var d;n=c.target,a.clearTimeout(m),n.removeEventListener(C,y,!1),n.removeEventListener(D,y,!1),m=a.setTimeout(f.bind(null,b),x),d=c.touches&&c.touches.length?c.touches[0]:c,z.clientX=d.clientX,z.clientY=d.clientY,y=e.bind(null,b),n.addEventListener(C,y,!1),n.addEventListener(D,y,!1)}function h(a){var b=a._scroll,c=b.direction,d=a.ui.scrollview,e=b.lastPositionX,f=b.lastPositionY,g=d.scrollLeft,h=d.scrollTop;a._refreshScrollbar(),c=[0,0,0,0],f>h&&(c[q]=1),e>g&&(c[r]=1),h>f&&(c[s]=1),g>e&&(c[t]=1),b.lastJumpY=Math.abs(h-f),b.lastJumpX=Math.abs(g-e),b.lastPositionX=g,b.lastPositionY=h,b.direction=c,b.clipHeight=d.clientHeight,b.clipWidth=d.clientWidth}function i(a,b){return parseInt(b===u?a.clientHeight:a.clientWidth,10)+1}function j(a,b){var c,d,e=a.element,f=a.options,g=a._scroll,h=0,j=f.dataLength,k=0,l=0,m=0,n=f.bufferSize,o=0,p=!1;for(h=f.orientation===u?g.clipHeight:g.clipWidth,m=i(e,f.orientation)/n,l=Math.floor((n-Math.floor(h/m))/2),0>=b-l?(d=0,k=0):d=b-l,d+n>=j&&(d=j-n,p=!0),k=b-d,a._loadData(d),w=!0,o=d*m,f.orientation===u?(p&&(o=a.ui.spacer.clientHeight),e.style.top=o+"px"):(p&&(o=a.ui.spacer.clientWidth),e.style.left=o+"px"),c=0;k>c;c+=1)o+=i(e.children[c],f.orientation);f.orientation===u?a.ui.scrollview.scrollTop=o:a.ui.scrollview.scrollLeft=o,w=!1,a._currentIndex=d}function k(a){var b,c,d,e=a.element,f=a._scroll,g=a.options,h=e.style,j=a._currentIndex,k=parseInt(g.bufferSize,10),l=g.dataLength,m=f.direction,n=f.clipWidth,o=f.clipHeight,p=f.lastPositionY,v=f.lastPositionX,w=parseInt(h.top,10)||0,x=parseInt(h.left,10)||0,y=0,z=0,A=0,B=null,C=0,D=0,E=0,F=0,G=0;for(b=e.children,E=b.length-1;E>0;E-=1)D+=g.orientation===u?b[E].clientHeight:b[E].clientWidth;if(C=i(e,g.orientation)/k,m[s]&&(G=p-w,A=l-j-k),m[q]&&(G=w+D-(p+o),A=j),m[r]&&(G=v-x,A=l-j-k),m[t]&&(G=x+D-(v-n),A=j),G>0&&1.5>=D/G){for(y=Math.floor(G/C)-Math.floor((k-o/C)/2),y=y>A?A:y,z=Math.floor(y/k),y%=k,z>0&&((m[s]||m[r])&&(c=1),(m[q]||m[t])&&(c=-1),a._loadData(j+c*z*k),j=a._currentIndex,F+=c*z*k*C),(m[s]||m[r])&&(j=j+k-1),E=y;E>0;E-=1)(m[s]||m[r])&&(B=e.appendChild(e.firstElementChild),++j,a._updateListItem(B,j),F+=B.clientHeight),(m[q]||m[t])&&(B=e.insertBefore(e.lastElementChild,e.firstElementChild),--j,a._updateListItem(B,j),F-=B.clientHeight);(m[q]||m[s])&&(d=w+F,(0>d||0>=j)&&(d=0,j=0),j>=l-1&&(d=a.ui.spacer.clientHeight),h.top=d+"px"),(m[t]||m[r])&&(d=x+F,(0>d||0>=j)&&(d=0),j>=l-1&&(d=a.ui.spacer.clientWidth),h.left=d+"px"),(m[s]||m[r])&&(j=j-k+1),a._currentIndex=j}}function l(a){var b=a._scroll;h.call(null,a),(b.lastJumpY>0||b.lastJumpX>0)&&(w||k(a))}var m,n,o=c.widget.BaseWidget,p=c.engine,q=0,r=1,s=2,t=3,u="y",v="x",w=!1,x=250,y=null,z={},A=function(){var a=this;return a.ui={scrollview:null,spacer:null,itemSize:0},a._scroll={direction:[0,0,0,0],lastPositionX:0,lastPositionY:0,lastJumpX:0,lastJumpY:0,clipWidth:0,clipHeight:0},a.name="VirtualListview",a._currentIndex=0,a.options={bufferSize:100,dataLength:0,orientation:u,listItemUpdater:null},a._scrollEventBound=null,a._touchStartEventBound=null,a},B="vmousedown",C="vmousemove",D="vmouseup",E=new o;A.classes={uiVirtualListContainer:"ui-virtual-list-container",uiListviewActive:"ui-listview-active"},E._updateListItem=function(a,b){this.options.listItemUpdater(a,b)},E._build=function(a){var b=A.classes;return a.classList.add(b.uiVirtualListContainer),a},E._init=function(a){var c,d,e,f,g,h=this,i=h.ui,j=h.options;c=j.orientation.toLowerCase()===v?v:u,d=a.parentElement,e=d.style,f=b.createElement("div"),g=f.style,g.display="block",g.position="static",d.appendChild(f),a.style.position="relative",c===v?(g.float="left",e.overflowX="scroll",e.overflowY="hidden"):(e.overflowX="hidden",e.overflowY="scroll"),j.dataLength<j.bufferSize&&(j.bufferSize=j.dataLength),j.bufferSize<1&&(j.bufferSize=1),i.spacer=f,i.scrollview=d,h.element=a,j.orientation=c
},E._buildList=function(){var a,c,d=this.element,e=this.options.bufferSize,f=b.createDocumentFragment(),h=g.bind(null,this),i=this.options.orientation;for(c=0;e>c;++c)a=b.createElement("li"),i===v&&(a.style.float="left"),this._updateListItem(a,c),f.appendChild(a),a.addEventListener(B,h,!1);d.appendChild(f),this._touchStartEventBound=h,this._refresh()},E._refresh=function(){this._refreshScrollbar()},E._loadData=function(a){var b=this,c=b.element.firstElementChild;if(b._currentIndex!==a){b._currentIndex=a;do b._updateListItem(c,a),++a,c=c.nextElementSibling;while(c)}},E._refreshScrollbar=function(){var a,b=this,c=b.element,d=b.options,e=b.ui,f=e.spacer.style;d.orientation===u?(a=parseFloat(c.clientHeight)||0,f.height=a/d.bufferSize*d.dataLength-a+"px"):(a=parseFloat(c.clientWidth)||0,f.width=a/d.bufferSize*(d.dataLength-1)-4/3*a+"px")},E._bindEvents=function(){var a=l.bind(null,this),b=this.ui.scrollview;b&&(b.addEventListener("scroll",a,!1),this._scrollEventBound=a)},E._destroy=function(){var a,b=this,c=b.ui.scrollview,d=b.ui.spacer,e=b.element,f=e.style;for(f.position="static",b.options.orientation===u?f.top="auto":f.left="auto",c&&c.removeEventListener("scroll",b._scrollEventBound,!1),d.parentNode&&d.parentNode.removeChild(d);e.firstElementChild;)a=e.firstElementChild,a.removeEventListener(B,b._touchStartEventBound,!1),e.removeChild(a)},E.scrollTo=function(a){this.ui.scrollview.scrollTop=a},E.scrollToIndex=function(a){0>a&&(a=0),a>=this.options.dataLength&&(a=this.options.dataLength-1),h(this),j(this,a)},E.draw=function(){this._buildList(),this.trigger("draw")},E.setListItemUpdater=function(a){this.options.listItemUpdater=a},A.prototype=E,c.widget.wearable.VirtualListview=A,p.defineWidget("VirtualListview","",["draw","setListItemUpdater","scrollTo","scrollToIndex"],A,"wearable")}(a.document,d),function(a){var b=function(b,c){return new a.event.gesture.Instance(b,c)};b.defaults={triggerEvent:!1,updateVelocityInterval:16,estimatedPointerTimeDifference:15},b.Orientation={VERTICAL:"vertical",HORIZONTAL:"horizontal"},b.Direction={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right"},b.Event={START:"start",MOVE:"move",END:"end",CANCEL:"cancel",BLOCKED:"blocked"},b.Result={PENDING:1,RUNNING:2,FINISHED:4,BLOCK:8},b.plugin={},b.createDetector=function(a,c,d){if(!b.plugin[a])throw a+" gesture is not supported";return new b.plugin[a](c,d)},a.event.gesture=b}(d,a),function(a,b){var c=a.event.gesture;c.utils={getCenter:function(a){var c=[],d=[];return[].forEach.call(a,function(a){c.push(isNaN(a.clientX)?a.pageX:a.clientX),d.push(isNaN(a.clientY)?a.pageY:a.clientY)}),{clientX:(b.min.apply(b,c)+b.max.apply(b,c))/2,clientY:(b.min.apply(b,d)+b.max.apply(b,d))/2}},getVelocity:function(a,c,d){return{x:b.abs(c/a)||0,y:b.abs(d/a)||0}},getAngle:function(a,c){var d=c.clientY-a.clientY,e=c.clientX-a.clientX;return 180*b.atan2(d,e)/b.PI},getDirection:function(a,d){var e=b.abs(a.clientX-d.clientX),f=b.abs(a.clientY-d.clientY);return e>=f?a.clientX-d.clientX>0?c.Direction.LEFT:c.Direction.RIGHT:a.clientY-d.clientY>0?c.Direction.UP:c.Direction.DOWN},getDistance:function(a,c){var d=c.clientX-a.clientX,e=c.clientY-a.clientY;return b.sqrt(d*d+e*e)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a===c.Direction.UP||a===c.Direction.DOWN},isHorizontal:function(a){return a===c.Direction.LEFT||a===c.Direction.RIGHT},getOrientation:function(a){return this.isVertical(a)?c.Orientation.VERTICAL:c.Orientation.HORIZONTAL}}}(d,a.Math),function(a){var b=a.event.gesture,c=a.util.object.merge,d=function(a,b){this.sender=b,this.strategy=a.create(),this.name=this.strategy.name,this.index=this.strategy.index||100,this.options=this.strategy.options||{}};d.prototype.detect=function(a){return this.strategy.handler(a,this.sender,this.strategy.options)},d.Sender={sendEvent:function(){}},d.plugin={},d.plugin.create=function(a){a.types||(a.types=[a.name]);var b=d.plugin[a.name]=function(b){this.options=c({},a.defaults,b)};return b.prototype.create=function(){return c({options:this.options},a)},b},b.Detector=d}(d,a),function(a,b,c){var d=a.event.gesture,e=a.util.object.merge,f="ontouchstart"in b;d.Manager=function(){var a=null,b=!1,g=!1,h=function(){this.instances=[],this.gestureDetectors=[],this.runningDetectors=[],this.detectorRequestedBlock=null,this.unregisterBlockList=[],this.gestureEvents=null,this.velocity=null};return h.prototype={_bindStartEvents:function(a){var b=a.getElement();f&&b.addEventListener("touchstart",this),b.addEventListener("mousedown",this)},_bindEvents:function(){f&&(c.addEventListener("touchmove",this),c.addEventListener("touchend",this),c.addEventListener("touchcancel",this)),c.addEventListener("mousemove",this),c.addEventListener("mouseup",this)},_unbindStartEvents:function(a){var b=a.getElement();f&&b.removeEventListener("touchstart",this),b.removeEventListener("mousedown",this)},_unbindEvents:function(){f&&(c.removeEventListener("touchmove",this),c.removeEventListener("touchend",this),c.removeEventListener("touchcancel",this)),c.removeEventListener("mousemove",this),c.removeEventListener("mouseup",this)},handleEvent:function(a){var b=a.type.toLowerCase();if(b.match(/touch/)&&(g=!0),!b.match(/mouse/)||!g&&1===a.which)switch(a.type){case"mousedown":case"touchstart":this._start(a);break;case"mousemove":case"touchmove":this._move(a);break;case"mouseup":case"touchend":this._end(a);break;case"touchcancel":this._cancel(a)}},_start:function(a){var c,f=a.currentTarget,g=[];b||(this._resetDetecting(),this._bindEvents(),c=this._createDefaultEventData(d.Event.START,a),this.gestureEvents={start:c,last:c},this.velocity={event:c,x:0,y:0}),b=!0,c=e(c,this._createGestureEvent(d.Event.START,a)),this.instances.forEach(function(a){a.getElement()===f&&(g=g.concat(a.getGestureDetectors()))},this),g.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestureDetectors=this.gestureDetectors.concat(g),this._detect(g,c)},_move:function(a){b&&(a=this._createGestureEvent(d.Event.MOVE,a),this._detect(this.gestureDetectors,a),this.gestureEvents.last=a)},_end:function(a){a=e({},this.gestureEvents.last,this._createDefaultEventData(d.Event.END,a)),a.pointers.length>0||(this._detect(this.gestureDetectors,a),this.unregisterBlockList.forEach(function(a){this.unregist(a)},this),this._resetDetecting(),g=!1)},_cancel:function(a){a=e({},this.gestureEvents.last,this._createDefaultEventData(d.Event.CANCEL,a)),this._detect(this.gestureDetectors,a),this.unregisterBlockList.forEach(function(a){this.unregist(a)},this),this._resetDetecting(),g=!1},_detect:function(a,b){var c=[];a.forEach(function(a){var e;this.detectorRequestedBlock||(e=a.detect(b),e&d.Result.RUNNING&&this.runningDetectors.indexOf(a)<0&&this.runningDetectors.push(a),e&d.Result.FINISHED&&c.push(a),e&d.Result.BLOCK&&(this.detectorRequestedBlock=a))},this),c.forEach(function(a){var b;b=this.gestureDetectors.indexOf(a),b>-1&&this.gestureDetectors.splice(b,1),b=this.runningDetectors.indexOf(a),b>-1&&this.runningDetectors.splice(b,1)},this),this.detectorRequestedBlock&&(this.runningDetectors.forEach(function(a){var c=e({},b,{eventType:d.Event.BLOCKED});a.detect(c)}),this.runningDetectors.length=0,this.gestureDetectors.length=0,c.indexOf(this.detectorRequestedBlock)<0&&this.gestureDetectors.push(this.detectorRequestedBlock))},_resetDetecting:function(){b=!1,this.gestureDetectors.length=0,this.runningDetectors.length=0,this.detectorRequestedBlock=null,this.gestureEvents=null,this.velocity=null,this._unbindEvents()},_createDefaultEventData:function(a,b){var c=b.touches?b.touches:"mouseup"===b.type?[]:b.identifier=1&&[b],d=c[0],e=(new Date).getTime();return{eventType:a,timeStamp:e,pointer:d,pointers:c,srcEvent:b,preventDefault:function(){this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()}}},_createGestureEvent:function(a,b){var c,f=this._createDefaultEventData(a,b),g=this.gestureEvents.start,h=this.gestureEvents.last,i=this.velocity.event,j={time:f.timeStamp-g.timeStamp,x:f.pointer.clientX-g.pointer.clientX,y:f.pointer.clientY-g.pointer.clientY},k={x:f.pointer.clientX-h.pointer.clientX,y:f.pointer.clientY-h.pointer.clientY},l=this.velocity,m=d.defaults.estimatedPointerTimeDifference;return g&&f.pointers.length!==g.pointers.length&&(g.pointers=[],[].forEach.call(f.pointers,function(a){g.pointers.push(e({},a))})),f.timeStamp-i.timeStamp>d.defaults.updateVelocityInterval&&(l=d.utils.getVelocity(f.timeStamp-i.timeStamp,f.pointer.clientX-i.pointer.clientX,f.pointer.clientY-i.pointer.clientY),e(this.velocity,l,{event:f})),c={x:Math.round(f.pointer.clientX+m*l.x*(k.x<0?-1:1)),y:Math.round(f.pointer.clientY+m*l.y*(k.y<0?-1:1))},(k.x<0&&c.x>h.estimatedX||k.x>0&&c.x<h.estimatedX)&&(c.x=h.estimatedX),(k.y<0&&c.y>h.estimatedY||k.y>0&&c.y<h.estimatedY)&&(c.y=h.estimatedY),e(f,{deltaTime:j.time,deltaX:j.x,deltaY:j.y,velocityX:l.x,velocityY:l.y,estimatedX:c.x,estimatedY:c.y,estimatedDeltaX:c.x-g.pointer.clientX,estimatedDeltaY:c.y-g.pointer.clientY,distance:d.utils.getDistance(g.pointer,f.pointer),angle:d.utils.getAngle(g.pointer,f.pointer),direction:d.utils.getDirection(g.pointer,f.pointer),scale:d.utils.getScale(g.pointers,f.pointers),rotation:d.utils.getRotation(g.pointers,f.pointers),startEvent:g,lastEvent:h}),f},register:function(a){var b=this.instances.indexOf(a);0>b&&(this.instances.push(a),this._bindStartEvents(a))},unregister:function(a){var b;return this.gestureDetectors.length?(this.unregisterBlockList.push(a),void 0):(b=this.instances.indexOf(a),b>-1&&(this.instances.splice(b,1),this._unbindStartEvents(a)),this.instances.length||this._destroy(),void 0)},_destroy:function(){this._resetDetecting(),this.instances.length=0,this.unregisterBlockList.length=0,g=!1,a=null}},{getInstance:function(){return a?a:a=new h}}}()}(d,a,a.document),function(a){var b=a.event.gesture,c=a.event.gesture.Detector,d=a.event.gesture.Manager,e=a.event,f=a.util.object.merge;b.Instance=function(a,c){this.element=a,this.eventDetectors=[],this.options=f({},b.defaults,c),this.gestureManager=null,this._init()},b.Instance.prototype={_init:function(){this.gestureManager=d.getInstance(),this.eventSender=f({},c.Sender,{sendEvent:this.trigger.bind(this)})},_findGestureDetector:function(a){var b,d,e=c.plugin;for(d in e)if(e.hasOwnProperty(d)&&(b=e[d],b.prototype.types.indexOf(a)>-1))return b},setOptions:function(a){return f(this.options,a),this},addDetector:function(a){var b=new c(a,this.eventSender),d=!!this.eventDetectors.length;return this.eventDetectors.push(b),this.eventDetectors.length&&!d&&this.gestureManager.register(this),this},removeDetector:function(a){var b=this.eventDetectors.indexOf(a);return b>-1&&this.eventDetectors.splice(b,1),this.eventDetectors.length||this.gestureManager.unregister(this),this},trigger:function(a,b){e.trigger(this.element,a,b)},getElement:function(){return this.element},getGestureDetectors:function(){return this.eventDetectors},destroy:function(){this.element=null,this.eventHandlers={},this.gestureManager=null,this.eventSender=null,this.eventDetectors.length=0}}}(d,a),function(a,b){var c=a.event.gesture,d=a.event.gesture.Detector,e=a.util.object.merge,f=!!b.navigator.userAgent.match(/tizen/i);a.event.gesture.Drag=d.plugin.create({name:"drag",index:500,types:["drag","dragstart","dragend","dragcancel"],defaults:{blockHorizontal:!1,blockVertical:!1,threshold:10,angleThreshold:20,delay:0},triggerd:!1,handler:function(a,b,d){var g=a,h=d.threshold,i=d.angleThreshold,j=c.Result.PENDING,k={drag:this.types[0],start:this.types[1],end:this.types[2],cancel:this.types[3]},l=g.direction,m=Math.abs(g.angle);if(!this.triggerd&&g.eventType===c.Event.MOVE){if(Math.abs(g.deltaX)<h&&Math.abs(g.deltaY)<h)return f||g.preventDefault(),c.Result.PENDING;if(d.delay&&g.deltaTime<d.delay)return f||g.preventDefault(),c.Result.PENDING;if(d.blockHorizontal&&c.utils.isHorizontal(g.direction)||d.blockVertical&&c.utils.isVertical(g.direction))return c.Result.FINISHED;if(d.blockHorizontal&&(90-i>m||m>90+i))return c.Result.FINISHED;if(d.blockVertical&&m>0+i&&180-i>m)return c.Result.FINISHED;this.fixedStartPointX=0,this.fixedStartPointY=0,c.utils.isHorizontal(g.direction)?this.fixedStartPointX=(g.deltaX<0?1:-1)*h:this.fixedStartPointY=(g.deltaY<0?1:-1)*h}switch(d.blockHorizontal&&(l=g.deltaY<0?c.Direction.UP:c.Direction.DOWN),d.blockVertical&&(l=g.deltaX<0?c.Direction.LEFT:c.Direction.RIGHT),g=e({},g,{deltaX:g.deltaX+this.fixedStartPointX,deltaY:g.deltaY+this.fixedStartPointY,estimatedDeltaX:g.estimatedDeltaX+this.fixedStartPointX,estimatedDeltaY:g.estimatedDeltaY+this.fixedStartPointY,direction:l}),g.eventType){case c.Event.START:this.triggerd=!1;break;case c.Event.MOVE:j=c.Result.RUNNING,this.triggerd||b.sendEvent(k.start,g),b.sendEvent(k.drag,g),g.preventDefault(),this.triggerd=!0;break;case c.Event.BLOCKED:case c.Event.END:j=c.Result.FINISHED,this.triggerd&&(b.sendEvent(k.end,g),g.preventDefault(),this.triggerd=!1);break;case c.Event.CANCEL:j=c.Result.FINISHED,this.triggerd&&(b.sendEvent(k.cancel,g),g.preventDefault(),this.triggerd=!1)}return j}})}(d,a),function(a){var b=a.event.gesture,c=a.event.gesture.Detector;a.event.gesture.Swipe=c.plugin.create({name:"swipe",index:400,defaults:{timeThreshold:400,velocity:.6,orientation:b.Orientation.HORIZONTAL},handler:function(a,c,d){var e=a,f=b.Result.PENDING;return e.eventType!==b.Event.END?f:e.deltaTime>d.timeThreshold||d.orientation!==b.utils.getOrientation(e.direction)?f=b.Result.FINISHED:((e.velocityX>d.velocity||e.velocityY>d.velocity)&&(c.sendEvent(this.name,a),f=b.Result.FINISHED|b.Result.BLOCK),f)}})}(d,a),function(a){function b(a){var b;return d.forEach(function(c){c.element===a&&(b=c.instance)}),b}function c(a){d.forEach(function(b,c){b.element===a&&d.splice(c,1)})}var d=[],e=a.event.gesture||{};a.event.enableGesture=function(){var a=arguments[0],c=b(a),f=arguments.length,g=1;for(c||(c=new e.Instance(a),d.push({element:a,instance:c}));f>g;g++)c.addDetector(arguments[g])},a.event.disableGesture=function(){var a=arguments[0],d=b(a),e=arguments.length,f=1;d&&(e>1?d.removeDetector(arguments[f]):(d.destroy(),c(a)))},a.event.gesture=e}(d),function(a,b){b.widget.wearable.scroller=b.widget.wearable.scroller||{}}(a,d),function(a,b){b.widget.wearable.scroller.effect=b.widget.wearable.scroller.effect||{}}(a,d),function(a,b){var c=function(a,b){this.orientation=null,this.maxValue=null,this.container=null,this.minEffectElement=null,this.maxEffectElement=null,this.targetElement=null,this.isShow=!1,this.isDrag=!1,this.isShowAnimating=!1,this.isHideAnimating=!1,this._create(a,b)};c.prototype={options:{className:"ui-scrollbar-bouncing-effect",duration:500},_create:function(a,b){this.container=a,this.orientation=b.orientation,this.maxValue=this._getValue(b.maxScrollX,b.maxScrollY),this._initLayout()},_initLayout:function(){var c=this.minEffectElement=a.createElement("DIV"),d=this.maxEffectElement=a.createElement("DIV"),e=this.options.className;this.orientation===b.widget.wearable.scroller.Scroller.Orientation.HORIZONTAL?(c.className=e+" ui-left",d.className=e+" ui-right"):(c.className=e+" ui-top",d.className=e+" ui-bottom"),this.container.appendChild(c),this.container.appendChild(d),c.addEventListener("webkitAnimationEnd",this),d.addEventListener("webkitAnimationEnd",this)},drag:function(a,b){this.isDrag=!0,this._checkAndShow(a,b)},dragEnd:function(){!this.isShow||this.isShowAnimating||this.isHideAnimating||this._beginHide(),this.isDrag=!1},show:function(){this.targetElement&&(this.isShow=!0,this._beginShow())},hide:function(){this.isShow&&(this.minEffectElement.style.display="none",this.maxEffectElement.style.display="none",this.targetElement.classList.remove("ui-hide"),this.targetElement.classList.remove("ui-show")),this.isShow=!1,this.isShowAnimating=!1,this.isHideAnimating=!1,this.targetElement=null},_checkAndShow:function(a,b){var c=this._getValue(a,b);this.isShow?!this.isShow||this.isDrag||this.isShowAnimating||this.isHideAnimating||this._beginHide():c>=0?(this.targetElement=this.minEffectElement,this.show()):c<=this.maxValue&&(this.targetElement=this.maxEffectElement,this.show())},_getValue:function(a,c){return this.orientation===b.widget.wearable.scroller.Scroller.Orientation.HORIZONTAL?a:c},_beginShow:function(){this.targetElement&&!this.isShowAnimating&&(this.targetElement.style.display="block",this.targetElement.classList.remove("ui-hide"),this.targetElement.classList.add("ui-show"),this.isShowAnimating=!0,this.isHideAnimating=!1)},_finishShow:function(){this.isShowAnimating=!1,this.isDrag||(this.targetElement.classList.remove("ui-show"),this._beginHide())},_beginHide:function(){this.isHideAnimating||(this.targetElement.classList.remove("ui-show"),this.targetElement.classList.add("ui-hide"),this.isHideAnimating=!0,this.isShowAnimating=!1)},_finishHide:function(){this.isHideAnimating=!1,this.targetElement.classList.remove("ui-hide"),this.hide(),this._checkAndShow()},handleEvent:function(a){"webkitAnimationEnd"===a.type&&(this.isShowAnimating?this._finishShow():this.isHideAnimating&&this._finishHide())},destroy:function(){this.minEffectElement.removeEventListener("webkitAnimationEnd",this),this.maxEffectElement.removeEventListener("webkitAnimationEnd",this),this.container.removeChild(this.minEffectElement),this.container.removeChild(this.maxEffectElement),this.container=null,this.minEffectElement=null,this.maxEffectElement=null,this.targetElement=null,this.isShow=null,this.orientation=null,this.maxValue=null}},b.widget.wearable.scroller.effect.Bouncing=c}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=(c.event.gesture,c.engine),f=c.util.object,g=c.event,h=g.trigger,i=new d,j=c.widget.wearable.scroller.effect.Bouncing,k={START:"scrollstart",MOVE:"scrollmove",END:"scrollend",CANCEL:"scrollcancel"},l=!1,m=function(){};m.Orientation={VERTICAL:"vertical",HORIZONTAL:"horizontal"},i._build=function(a){if(1!==a.children.length)throw"scroller has only one child.";return this.scroller=a.children[0],this.scrollerStyle=this.scroller.style,this.bouncingEffect=null,this.scrollbar=null,this.width=0,this.height=0,this.scrollerWidth=0,this.scrollerHeight=0,this.scrollerOffsetX=0,this.scrollerOffsetY=0,this.maxScrollX=0,this.maxScrollY=0,this.startScrollerOffsetX=0,this.startScrollerOffsetY=0,this.orientation=null,this.enabled=!0,this.scrolled=!1,this.dragging=!1,this.scrollCanceled=!1,a},i._configure=function(){this.options=f.merge({},this.options,{scrollDelay:0,threshold:10,scrollbar:"",useBouncingEffect:!1,orientation:"vertical"})},i._init=function(){this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.width-this.scrollerWidth,this.maxScrollY=this.height-this.scrollerHeight,this.orientation="horizontal"===this.options.orientation?m.Orientation.HORIZONTAL:m.Orientation.VERTICAL,this.scrolled=!1,this.touching=!0,this.scrollCanceled=!1,this.orientation===m.Orientation.HORIZONTAL?this.maxScrollY=0:this.maxScrollX=0,this._initLayout(),this._initScrollbar(),this._initBouncingEffect()},i._initLayout=function(){var a=this.element.style,b=this.scroller.style;a.overflow="hidden",a.position="relative",b.position="absolute",b.top="0px",b.left="0px",b.width=this.scrollerWidth+"px",b.height=this.scrollerHeight+"px"},i._initScrollbar=function(){var a,b=this.options.scrollbar;b&&(a=c.widget.wearable.scroller.scrollbar.type[b],a&&(this.scrollbar=e.instanceWidget(this.element,"ScrollBar",{type:a,orientation:this.orientation})))},i._initBouncingEffect=function(){var a=this.options;a.useBouncingEffect&&(this.bouncingEffect=new j(this.element,{maxScrollX:this.maxScrollX,maxScrollY:this.maxScrollY,orientation:this.orientation}))},i._resetLayout=function(){var a=this.element.style,b=this.scrollerStyle;a.overflow="",a.position="",a.overflow="hidden",a.position="relative",b&&(b.position="",b.top="",b.left="",b.width="",b.height="",b["-webkit-transform"]="",b["-webkit-transition"]="")},i._bindEvents=function(){c.event.enableGesture(this.scroller,new c.event.gesture.Drag({threshold:this.options.threshold,delay:this.options.scrollDelay,blockVertical:this.orientation===m.Orientation.HORIZONTAL,blockHorizontal:this.orientation===m.Orientation.VERTICAL})),g.on(this.scroller,"drag dragstart dragend dragcancel",this),a.addEventListener("resize",this)},i._unbindEvents=function(){this.scroller&&(c.event.disableGesture(this.scroller),g.off(this.scroller,"drag dragstart dragend dragcancel",this),a.removeEventListener("resize",this))},i.handleEvent=function(a){switch(a.type){case"dragstart":this._start(a);break;case"drag":this._move(a);break;case"dragend":this._end(a);break;case"dragcancel":this.cancel(a);break;case"resize":this.refresh()}},i.setOptions=function(a){var b;for(b in a)a.hasOwnProperty(b)&&a[b]&&(this.options[b]=a[b])},i._refresh=function(){this._clear(),this._unbindEvents(),this._init(),this._bindEvents()},i.scrollTo=function(a,b,c){this._translate(a,b,c),this._translateScrollbar(a,b,c)},i._translate=function(b,c,d){var e,f,g=this.scrollerStyle;f=d?"-webkit-transform "+d/1e3+"s ease-out":"none",e="translate3d("+b+"px,"+c+"px, 0)",g["-webkit-transform"]=e,g["-webkit-transition"]=f,this.scrollerOffsetX=a.parseInt(b,10),this.scrollerOffsetY=a.parseInt(c,10)},i._translateScrollbar=function(a,b,c,d){this.scrollbar&&this.scrollbar.translate(this.orientation===m.Orientation.HORIZONTAL?-a:-b,c,d)},i._start=function(){this.scrolled=!1,this.dragging=!0,this.scrollCanceled=!1,this.startScrollerOffsetX=this.scrollerOffsetX,this.startScrollerOffsetY=this.scrollerOffsetY},i._move=function(a){var b=this.startScrollerOffsetX,c=this.startScrollerOffsetY,d=!l;this.enabled&&!this.scrollCanceled&&this.dragging&&(this.orientation===m.Orientation.HORIZONTAL?b+=a.detail.estimatedDeltaX:c+=a.detail.estimatedDeltaY,(b>0||b<this.maxScrollX)&&(b=b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=c>0?0:this.maxScrollY),b!==this.scrollerOffsetX||c!==this.scrollerOffsetY?(this.scrolled||this._fireEvent(k.START),this.scrolled=!0,this._translate(b,c),this._translateScrollbar(b,c,0,d),this._fireEvent(k.MOVE),this.bouncingEffect&&this.bouncingEffect.hide()):(this.bouncingEffect&&this.bouncingEffect.drag(b,c),this._translateScrollbar(b,c,0,d)))},i._end=function(){this.dragging&&(this.bouncingEffect&&this.bouncingEffect.dragEnd(),this.scrollbar&&this.scrollbar.end(),this._endScroll(),this.dragging=!1)},i._endScroll=function(){this.scrolled&&this._fireEvent(k.END),this.scrolled=!1},i.cancel=function(){this.scrollCanceled=!0,this.scrolled&&(this._translate(this.startScrollerOffsetX,this.startScrollerOffsetY),this._translateScrollbar(this.startScrollerOffsetX,this.startScrollerOffsetY),this._fireEvent(k.CANCEL)),this.scrollbar&&this.scrollbar.end(),this.scrolled=!1,this.dragging=!1},i._fireEvent=function(a,b){h(this.element,a,b)},i._clear=function(){this.scrolled=!1,this.scrollCanceled=!1,this._resetLayout(),this._clearScrollbar(),this._clearBouncingEffect()},i._clearScrollbar=function(){this.scrollbar&&this.scrollbar.destroy(),this.scrollbar=null},i._clearBouncingEffect=function(){this.bouncingEffect&&this.bouncingEffect.destroy(),this.bouncingEffect=null},i._disable=function(){this.enabled=!1},i._enable=function(){this.enabled=!0},i._destroy=function(){this._clear(),this._unbindEvents(),this.scrollerStyle=null,this.scroller=null},m.prototype=i,c.widget.wearable.scroller.Scroller=m,e.defineWidget("Scroller",".scroller",["scrollTo","cancel"],m)}(a.document,d),function(a,b){var c=b.engine,d=b.util.object,e=function(){this.tabSize=0,this.activeIndex=0,this.width=0};e.EventType={change:"tabchange"},e.prototype=new b.widget.BaseWidget,d.fastMerge(e.prototype,{_init:function(a){var b=this.options;this.width=a.offsetWidth,a.classList.add(b.wrapperClass)},_configure:function(){this.options={margin:4,triggerEvent:!1,wrapperClass:"ui-tab-indicator",itemClass:"ui-tab-item",activeClass:"ui-tab-active"}},_createIndicator:function(){var b,c=this.options,d=this.activeIndex,e=a.createDocumentFragment(),f=[],g=c.margin,h=0,i=this.tabSize,j=this.width-g*(i-1),k=Math.floor(j/i),l=j%i,m=0;for(h=0;i>h;h++)f[h]=k;for(h=Math.floor((i-l)/2);l>0;h++,l--)f[h]+=1;for(h=0;i>h;h++)b=a.createElement("span"),b.classList.add(c.itemClass),b.style.width=f[h]+"px",b.style.left=m+"px",m+=f[h]+g,h===d&&b.classList.add(c.activeClass),e.appendChild(b);this.element.appendChild(e)},_removeIndicator:function(){this.element.innerHTML=""},_fireEvent:function(a,c){b.fireEvent(this.element,a,c)},_refresh:function(){this._removeIndicator(),this._createIndicator()},setActive:function(a){var b=this.options,c=this.element.children;this.activeIndex=a,[].forEach.call(c,function(a){a.classList.remove(b.activeClass)}),a<c.length&&(c[a].classList.add(b.activeClass),b.triggerEvent&&this._fireEvent(e.EventType.change,{active:a}))},setSize:function(a){var b=this.tabSize!==a;this.tabSize=a,b&&this.refresh()},_destroy:function(){var a=this.options;this._removeIndicator(),this.element.classList.remove(a.wrapperClass)}}),b.widget.wearable.TabIndicator=e,c.defineWidget("TabIndicator",".ui-tab",["setActive","setSize"],e)}(a.document,d),function(b,c){function d(){this.options={}}var e=c.widget.wearable.scroller.Scroller,f=c.event.gesture,g=c.engine,h=c.util.object,i=c.event,j={CHANGE:"sectionchange"};h.inherit(d,e,{_build:function(a){return this.tabIndicatorElement=null,this.tabIndicator=null,this.sections=null,this.sectionPositions=[],this.activeIndex=0,this.beforeIndex=0,this._super(a),a},_configure:function(){this._super();var a=this.options;a.items="section",a.activeClass="ui-section-active",a.circular=!1,a.animate=!0,a.animateDuration=100,a.orientation="horizontal",a.changeThreshold=-1,a.useTab=!1},_init:function(a){var b,c,d,e=this.options;if("tab"===e.scrollbar&&(e.scrollbar=!1,e.useTab=!0),this.sections="string"==typeof e.items?this.scroller.querySelectorAll(e.items):e.items,b=this.sections.length,e.circular&&3>b)throw"if you use circular option, you must have at least three sections.";for(this.activeIndex>=b&&(this.activeIndex=b-1),c=0;b>c;c++)d=this.sections[c].className,d&&d.indexOf(e.activeClass)>-1&&(this.activeIndex=c),this.sectionPositions[c]=c;return this.setActiveSection(this.activeIndex),this._prepareLayout(),this._super(),this._repositionSections(!0),e.animate||(e.animateDuration=0),e.changeThreshold<0&&(e.changeThreshold=this.width/2),this.enabled&&b>1?this.enable():this.disable(),a},_prepareLayout:function(){var a,b=this.options,c=this.sections.length,d=this.element.offsetWidth,f=this.element.offsetHeight,g="horizontal"===b.orientation?e.Orientation.HORIZONTAL:e.Orientation.VERTICAL,h=this.scroller.style;b.useTab&&(this._initTabIndicator(),a=this.tabIndicatorElement.offsetHeight,this.element.style.height=f-a+"px",f-=a),g===e.Orientation.HORIZONTAL?(h.width=d*c+"px",h.height=f+"px"):(h.width=d+"px",h.height=f*c+"px")},_initLayout:function(){var a,b,c,d,f=this.sections.style,g=this.width,h=this.height;for(a=0,b=this.sections.length;b>a;a++)f=this.sections[a].style,f.position="absolute",f.width=g+"px",f.height=h+"px",this.orientation===e.Orientation.HORIZONTAL?(c=0,d=g*a):(c=h*a,d=0),f.top=c+"px",f.left=d+"px";this._super()},_initBouncingEffect:function(){var a=this.options;a.circular||this._super()},_translateScrollbar:function(a,b,c,d){var f=this.orientation===e.Orientation.HORIZONTAL?this.width:this.height,g=this.sectionPositions[this.activeIndex]*f,h=this.activeIndex*f,i=h-g;this.scrollbar&&(h=this.orientation===e.Orientation.HORIZONTAL?-a+i:-b+i,this.scrollbar.translate(h,c,d))},_translateScrollbarWithPageIndex:function(a,b){var c=this.orientation===e.Orientation.HORIZONTAL?this.width:this.height,d=a*c;this.scrollbar&&this.scrollbar.translate(d,b)},_initTabIndicator:function(){var a=this.tabIndicatorElement=b.createElement("div");this.element.parentNode.insertBefore(a,this.element),this.tabIndicator=new g.instanceWidget(a,"TabIndicator"),this.tabIndicator.setSize(this.sections.length),this.tabIndicator.setActive(this.activeIndex),this.tabIndicatorHandler=function(a){this.tabIndicator.setActive(a.detail.active)}.bind(this),this.element.addEventListener(j.CHANGE,this.tabIndicatorHandler,!1)},_clearTabIndicator:function(){this.tabIndicator&&(this.element.parentNode.removeChild(this.tabIndicatorElement),this.element.removeEventListener(j.CHANGE,this.tabIndicatorHandler,!1),this.tabIndicator.destroy(),this.tabIndicator=null,this.tabIndicatorElement=null,this.tabIndicatorHandler=null)},_resetLayout:function(){var a,b,c=this.sections.style;for(a=0,b=this.sections.length;b>a;a++)c=this.sections[a].style,c.position="",c.width="",c.height="",c.top="",c.left="";this._super()},_bindEvents:function(){this._super(),c.event.enableGesture(this.scroller,new c.event.gesture.Swipe({orientation:this.orientation===e.Orientation.HORIZONTAL?f.Orientation.HORIZONTAL:f.Orientation.VERTICAL})),i.on(this.scroller,"swipe webkitTransitionEnd",this)},_unbindEvents:function(){this._super(),this.scroller&&(c.event.disableGesture(this.scroller),i.off(this.scroller,"swipe webkitTransitionEnd",this))},handleEvent:function(a){switch(this._super(a),a.type){case"swipe":this._swipe(a);break;case"webkitTransitionEnd":this._endScroll()}},_notifyChanagedSection:function(a){var b,c=this.options.activeClass,d=this.sections.length,e=0;for(e=0;d>e;e++)b=this.sections[e],b.classList.remove(c),e===this.activeIndex&&b.classList.add(c);this._fireEvent(j.CHANGE,{active:a})},setActiveSection:function(a,b){var c=this.sectionPositions[a],d=b,f=this.activeIndex,g=0,h=0;this.orientation===e.Orientation.HORIZONTAL?g=-this.width*c:h=-this.height*c,(this.beforeIndex-a>1||this.beforeIndex-a<-1)&&(d=0),this.activeIndex=a,this.beforeIndex=this.activeIndex,g!==this.scrollerOffsetX||h!==this.scrollerOffsetY?(this._translate(g,h,b),this._translateScrollbarWithPageIndex(a,d)):this._endScroll(),this.activeIndex!==f&&this._notifyChanagedSection(this.activeIndex)},getActiveSectionIndex:function(){return this.activeIndex},_start:function(a){this._super(a),this.beforeIndex=this.activeIndex},_move:function(a){var b=this.options.changeThreshold,c=this.orientation===e.Orientation.HORIZONTAL?a.detail.deltaX:a.detail.deltaY,d=this.activeIndex;this._super(a),this.scrolled&&(this.activeIndex=c>b?this._calculateIndex(this.beforeIndex-1):-b>c?this._calculateIndex(this.beforeIndex+1):this.beforeIndex,this.activeIndex!==d&&this._notifyChanagedSection(this.activeIndex))},_end:function(){this.scrollbar&&this.scrollbar.end(),this.enabled&&!this.scrollCanceled&&this.dragging&&(this.bouncingEffect&&this.bouncingEffect.dragEnd(),this.setActiveSection(this.activeIndex,this.options.animateDuration),this.dragging=!1)},_swipe:function(a){var b=a.detail.direction===f.Direction.UP||a.detail.direction===f.Direction.LEFT?1:-1,c=this._calculateIndex(this.beforeIndex+b);this.enabled&&!this.scrollCanceled&&this.dragging&&(this.bouncingEffect&&this.bouncingEffect.dragEnd(),this.activeIndex!==c&&(this.activeIndex=c,this._notifyChanagedSection(c)),this.setActiveSection(c,this.options.animateDuration),this.dragging=!1)},_endScroll:function(){this.enabled&&this.scrolled&&!this.scrollCanceled&&(this._repositionSections(),this._super())},_repositionSections:function(b){var c,d,f,g,h,i,j,k=this.sections.length,l=this.sectionPositions[this.activeIndex],m=a.parseInt(k/2,10),n=this.options.circular;if(this.orientation===e.Orientation.HORIZONTAL?(i=-(this.width*(n?m:this.activeIndex)),j=0):(i=0,j=-(this.height*(n?m:this.activeIndex))),this._translateScrollbarWithPageIndex(this.activeIndex),(b||0===l||l===k-1)&&(this._translate(i,j),n))for(c=0;k>c;c++)f=(k+this.activeIndex-m+c)%k,d=this.sections[f].style,this.sectionPositions[f]=c,this.orientation===e.Orientation.HORIZONTAL?(g=0,h=this.width*c):(g=this.height*c,h=0),d.top=g+"px",d.left=h+"px"},_calculateIndex:function(a){var b=this.sections.length;return a=this.options.circular?(b+a)%b:0>a?0:a>b-1?b-1:a
},_clear:function(){this._clearTabIndicator(),this._super(),this.sectionPositions.length=0}}),c.widget.wearable.SectionChanger=d,g.defineWidget("SectionChanger",".scroller",["getActiveSectionIndex","setActiveSection"],d)}(a.document,d),function(a,b,c){var d=c.widget.wearable.VirtualListview,e=c.engine,f=c.util.DOM,g="x",h="y",i=function(){return this.options={bufferSize:100,dataLength:0,orientation:h,listItemUpdater:function(){return null}},this},j=new d,k=d.prototype,l=k.draw,m=k._refreshScrollbar;j.draw=function(){var a=this,c=a.element,d=a.ui,e=null,f=null;a.options.orientation===g&&(e=b.createElement("div"),f=e.style,c.parentNode.appendChild(e),e.appendChild(c),e.appendChild(d.spacer),f.width="10000px",f.height="100%",d.container=e),a._initListItem(),l.call(a)},j._refreshScrollbar=function(){var a=0,b=this.ui;m.call(this),b.container&&(a=this.element.clientWidth+b.spacer.clientWidth,b.container.style.width=a+"px")},j._initListItem=function(){var a=this,c=a.element,d=b.createElement("div"),e=b.createElement("div"),g=d.style,i=a.options.orientation,j=c.style,k=e.style;g.overflow="hidden",e.style.overflow="hidden",c.appendChild(e),e.appendChild(d),a.options.listItemUpdater(d,0),i===h?(j.overflowY="auto",j.overflowX="hidden",k.overflow="hidden",d.style.float="left",a._cellSize=f.getElementWidth(d),a._columnsCount=Math.floor(f.getElementWidth(c)/a._cellSize)):(j.overflowX="auto",j.overflowY="hidden",k.overflow="hidden",k.float="left",j.height="100%",k.height="100%",a._cellSize=f.getElementHeight(d),a._columnsCount=Math.floor(f.getElementHeight(c)/a._cellSize)),c.removeChild(e),a.options.originalDataLength=a.options.dataLength,a.options.dataLength/=a._columnsCount},j._updateListItem=function(a,c){var d,e,f,i,j,k=a.style,l=this.options;for(a.innerHTML="",k.overflow="hidden",k.position="relative",l.orientation===g&&(k.height="100%"),f=this._columnsCount,j=100/f,e=0;f>e;e++)d=b.createElement("div"),i=d.style,i.overflow="hidden",l.orientation===h?(d.style.float="left",d.style.width=j+"%"):d.style.height=j+"%",f*c+e<l.originalDataLength&&this.options.listItemUpdater(d,f*c+e),a.appendChild(d)},i.prototype=j,c.widget.wearable.VirtualGrid=i,e.defineWidget("VirtualGrid",".ui-virtualgrid",[],i)}(a,a.document,d),function(b,d){var e=d.event.gesture,f=d.event,g=d.engine,h=d.util.DOM,i=d.util.selectors,j={LEFT:"swipelist.left",RIGHT:"swipelist.right"},k=function(){this.container=null,this.swipeElement=null,this.swipeLeftElement=null,this.swipeRightElement=null,this.swipeElementStyle=null,this.swipeLeftElementStyle=null,this.swipeRightElementStyle=null,this.activeElement=null,this.activeTarget=null,this.resetLayoutCallback=null,this.options={},this._interval=0,this._cancelled=!1,this._dragging=!1,this._animating=!1},l=new d.widget.BaseWidget,m=function(a){a.preventDefault()};l._configure=function(){this.options={threshold:10,animationThreshold:150,animationDuration:200,animationInterval:8,container:null,swipeTarget:"li",swipeElement:".ui-swipelist",swipeLeftElement:".ui-swipelist-left",swipeRightElement:".ui-swipelist-right",ltrStartColor:"",ltrEndColor:"",rtlStartColor:"",rtlEndColor:""}},l._init=function(a){var b,e,f=i.getClosestBySelector(a,"."+d.widget.wearable.Page.classes.uiPage),g=this.options,j=/rgb\(([0-9]+), ([0-9]+), ([0-9]+)\)/g;this.container=g.container?f.querySelector(g.container):this._findScrollableElement(this.element),this.container.style.position="relative",this.swipeElement=f.querySelector(g.swipeElement),this.swipeLeftElement=g.swipeLeftElement?f.querySelector(g.swipeLeftElement):c,this.swipeRightElement=g.swipeRightElement?f.querySelector(g.swipeRightElement):c,this.swipeElement&&(this.swipeElementStyle=this.swipeElement.style,this.swipeElementStyle.display="none",this.swipeElementStyle.background="transparent",this.swipeElementStyle.width=this.container.offsetWidth+"px",this.swipeElementStyle.height=this.container.offsetHeight+"px"),this.swipeLeftElement&&(this.swipeLeftElementStyle=this.swipeLeftElement.style,this.swipeLeftElementStyle.display="none",b=this.swipeLeftElement?h.getCSSProperty(this.swipeLeftElement,"background-image").match(j):c),this.swipeRightElement&&(this.swipeRightElementStyle=this.swipeRightElement.style,this.swipeRightElementStyle.display="none",e=this.swipeRightElement?h.getCSSProperty(this.swipeRightElement,"background-image").match(j):c),g.ltrStartColor=g.ltrStartColor||b[0],g.ltrEndColor=g.ltrEndColor||b[1],g.rtlStartColor=g.rtlStartColor||e[0],g.rtlEndColor=g.rtlEndColor||e[1],this.resetLayoutCallback=null,this.swipeElement.parentNode!==this.container&&(this.resetLayoutCallback=function(a,b,c){return function(){try{b?a.insertBefore(c,b):a.appendChild(c)}catch(d){c.parentNode.removeChild(c)}}}(this.swipeElement.parentNode,this.swipeElement.nextElementSibling,this.swipeElement),this.container.appendChild(this.swipeElement))},l._reset=function(){this.container.style.position="",this.swipeElementStyle.display="",this.swipeElementStyle.background="",this.swipeElementStyle.width="",this.swipeElementStyle.height="",this.swipeLeftElementStyle.display="",this.swipeLeftElementStyle.background="",this.swipeRightElementStyle.display="",this.swipeRightElementStyle.background="",this.resetLayoutCallback&&this.resetLayoutCallback(),this._unbindEvents()},l._bindEvents=function(){d.event.enableGesture(this.element,new e.Drag({threshold:this.options.threshold,blockVertical:!0}),new e.Swipe({orientation:e.Orientation.HORIZONTAL})),f.on(this.element,"drag dragstart dragend dragcancel swipe",this),f.on(b,"scroll touchcancel",this),f.on(this.swipeElement,"touchstart touchmove touchend",m,!1)},l._unbindEvents=function(){d.event.disableGesture(this.element),f.off(this.element,"drag dragstart dragend dragcancel swipe",this),f.off(b,"scroll touchcancel",this),f.off(this.swipeElement,"touchstart touchmove touchend",m,!1)},l.handleEvent=function(a){switch(a.type){case"dragstart":this._start(a);break;case"drag":this._move(a);break;case"dragend":this._end(a);break;case"swipe":this._swipe(a);break;case"dragcancel":case"scroll":this._cancel()}},l._translate=function(b,c,d){var e,f,g,h=c/a.innerWidth*100,i=this;this.swipeLeftElement&&c>=0?(e=i.options.ltrStartColor,f=i.options.ltrEndColor,g="left"):this.swipeRightElement&&0>c&&(e=i.options.rtlStartColor,f=i.options.rtlEndColor,g="right",h=Math.abs(h)),function j(){b.background="-webkit-linear-gradient("+g+", "+e+" 0%, "+f+" "+h+"%)",d&&h<i.options.animationDuration?(i._animating=!0,h+=i.options.animationInterval,a.webkitRequestAnimationFrame(j)):d&&h>=i.options.animationDuration&&(i._animating=!1,i._transitionEnd())}()},l._findScrollableElement=function(a){for(;a.scrollHeight<=a.offsetHeight&&a.scrollWidth<=a.offsetWidth;)a=a.parentNode;return a},l._findSwipeTarget=function(a){for(var b=this.options.swipeTarget;a&&a.webkitMatchesSelector&&!a.webkitMatchesSelector(b);)a=a.parentNode;return a},l._fireEvent=function(a,b){var c=this.activeTarget||this.listElement;f.trigger(c,a,b)},l._start=function(a){var b,c,d,e,f=a.detail;this._dragging=!1,this._cancelled=!1,this.activeTarget=this._findSwipeTarget(f.srcEvent.target),this.activeTarget&&(c=this.activeTarget.offsetWidth,d=this.activeTarget.offsetHeight,b=this.container.scrollTop,e=this.activeTarget.offsetTop-b,this.swipeElementStyle.top=b+"px",this.swipeLeftElementStyle&&(this.swipeLeftElementStyle.width=c+"px",this.swipeLeftElementStyle.height=d+"px",this.swipeLeftElementStyle.top=e+"px"),this.swipeRightElementStyle&&(this.swipeRightElementStyle.width=c+"px",this.swipeRightElementStyle.height=d+"px",this.swipeRightElementStyle.top=e+"px"),this._dragging=!0)},l._move=function(a){var b,c=a.detail,d=c.estimatedDeltaX;this._dragging&&!this._cancelled&&(this.swipeLeftElement&&c.direction===e.Direction.RIGHT&&d>=0?(this.swipeRightElementStyle&&(this.swipeRightElementStyle.display="none"),this.activeElement=this.swipeLeftElement,b=this.swipeLeftElementStyle):this.swipeRightElement&&c.direction===e.Direction.LEFT&&0>d&&(this.swipeLeftElementStyle&&(this.swipeLeftElementStyle.display="none"),this.activeElement=this.swipeRightElement,b=this.swipeRightElementStyle),b&&(b.display="block",this.swipeElementStyle.display="block",this._translate(b,d,!1)))},l._end=function(a){var b=a.detail;this._dragging&&!this._cancelled&&(this.swipeLeftElement&&b.estimatedDeltaX>this.options.animationThreshold?this._fire(j.LEFT,a):this.swipeRightElement&&b.estimatedDeltaX<-this.options.animationThreshold?this._fire(j.RIGHT,a):this._hide(),this._dragging=!1)},l._swipe=function(a){var b=a.detail;this._dragging&&!this._cancelled&&(this.swipeLeftElement&&b.direction===e.Direction.RIGHT?this._fire(j.LEFT,a):this.swipeRightElement&&b.direction===e.Direction.LEFT?this._fire(j.RIGHT,a):this._hide(),this._dragging=!1)},l._fire=function(a,b){var c=b.detail;a===j.LEFT?this._translate(this.swipeLeftElementStyle,c.estimatedDeltaX,!0):a===j.RIGHT&&this._translate(this.swipeRightElementStyle,c.estimatedDeltaX,!0)},l._transitionEnd=function(){this._hide(),this.activeElement===this.swipeLeftElement?this._fireEvent(j.LEFT):this.activeElement===this.swipeRightElement&&this._fireEvent(j.RIGHT)},l._cancel=function(){this._dragging=!1,this._cancelled=!0,this._hide()},l._hide=function(){this.swipeElementStyle&&(this.swipeElementStyle.display="none"),this.activeElement&&(this.activeElement.style.display="none")},l._destroy=function(){this._reset(),this.element=null,this.container=null,this.swipeElement=null,this.swipeLeftElement=null,this.swipeRightElement=null,this.swipeElementStyle=null,this.swipeLeftElementStyle=null,this.swipeRightElementStyle=null,this.activeElement=null,this.activeTarget=null,this.startX=null,this.options=null,this.gesture=null,this._cancelled=null,this._dragging=null,this._animating=null},k.prototype=l,d.widget.wearable.SwipeList=k,g.defineWidget("SwipeList",".ui-swipe",[],k)}(a.document,d),function(a,b){b.widget.wearable.scroller.scrollbar=b.widget.wearable.scroller.scrollbar||{}}(a,d),function(a,b){b.widget.wearable.scroller.scrollbar.type=b.widget.wearable.scroller.scrollbar.type||{}}(a,d),function(a,b){b.widget.wearable.scroller.scrollbar.type.interface={insertAndDecorate:function(){},remove:function(){},start:function(){},end:function(){},offset:function(){}}}(a.document,d),function(b,c){var d=c.util.object,e=c.widget.wearable.scroller.scrollbar.type,f=e.interface,g=c.widget.wearable.scroller.Scroller;e.bar=d.merge({},f,{options:{wrapperClass:"ui-scrollbar-bar-type",barClass:"ui-scrollbar-indicator",orientationClass:"ui-scrollbar-",margin:2,animationDuration:500},insertAndDecorate:function(b){var c=b.wrapper,d=b.bar,e=b.container,f=b.clip,h=b.orientation,i=this.options.margin,j=h===g.Orientation.VERTICAL?f.offsetHeight:f.offsetWidth,k=h===g.Orientation.VERTICAL?e.offsetHeight:e.offsetWidth,l=this.options.orientationClass+(h===g.Orientation.VERTICAL?"vertical":"horizontal"),m=d.style;this.containerSize=k,this.maxScrollOffset=j-k,this.scrollZoomRate=k/j,this.barSize=a.parseInt(k/(j/k))-2*i,c.className=this.options.wrapperClass+" "+l,d.className=this.options.barClass,h===g.Orientation.VERTICAL?(m.height=this.barSize+"px",m.top="0px"):(m.width=this.barSize+"px",m.left="0px"),e.appendChild(c)},remove:function(a){var b=a.wrapper,c=a.container;c&&b&&c.removeChild(b)},offset:function(a,b){var c,d;return b=b!==this.maxScrollOffset?b*this.scrollZoomRate:this.containerSize-this.barSize-2*this.options.margin,a===g.Orientation.VERTICAL?(c=0,d=b):(c=b,d=0),{x:c,y:d}},start:function(a){var b=a.style,c=this.options.animationDuration;b["-webkit-transition"]="opacity "+c/1e3+"s ease",b.opacity=1},end:function(a){var b=a.style,c=this.options.animationDuration;b["-webkit-transition"]="opacity "+c/1e3+"s ease",b.opacity=0}})}(a.document,d),function(b,c){var d=c.widget.BaseWidget,e=c.engine,f=new d,g=c.util.object,h=c.util.selectors,i=(c.widget.wearable.scroller.scrollbar.type,c.widget.wearable.scroller.Scroller),j=function(){this.wrapper=null,this.barElement=null,this.container=null,this.clip=null,this.options={},this.type=null,this.maxScroll=null,this.started=!1,this.displayDelayTimeoutId=null,this.lastScrollPosition=0};f._build=function(a){return this.container=a,this.clip=a.children[0],a},f._configure=function(){this.options=g.merge({},this.options,{type:!1,displayDelay:700,orientation:i.Orientation.VERTICAL})},f._init=function(){this.type=this.options.type,this.type&&this._createScrollbar()},f._bindEvents=function(){b.addEventListener("visibilitychange",this)},f._createScrollbar=function(){var a=this.options.orientation,c=b.createElement("DIV"),d=b.createElement("span");c.appendChild(d),this.type.insertAndDecorate({orientation:a,wrapper:c,bar:d,container:this.container,clip:this.clip}),this.wrapper=c,this.barElement=d},f._removeScrollbar=function(){this.type.remove({orientation:this.options.orientation,wrapper:this.wrapper,bar:this.barElement,container:this.container,clip:this.clip}),this.wrapper=null,this.barElement=null},f._refresh=function(){var a=this;a._clear(),a._init(),a.translate(a.lastScrollPosition)},f.translate=function(b,c,d){var e,f,g,h,i=this.options.orientation;this.wrapper&&this.type&&this.lastScrollPosition!==b&&(d=d!==!1,this.lastScrollPosition=b,b=this.type.offset(i,b),g=this.barElement.style,f=c?"-webkit-transform "+c/1e3+"s ease-out":"none",e="translate3d("+b.x+"px,"+b.y+"px, 0)",g["-webkit-transform"]=e,g["-webkit-transition"]=f,this.started||this._start(),null!==this.displayDelayTimeoutId&&(a.clearTimeout(this.displayDelayTimeoutId),this.displayDelayTimeoutId=null),d&&(h=(c||0)+this.options.displayDelay,this.displayDelayTimeoutId=a.setTimeout(this._end.bind(this),h)))},f.end=function(){this.displayDelayTimeoutId||(this.displayDelayTimeoutId=a.setTimeout(this._end.bind(this),this.options.displayDelay))},f._start=function(){this.type.start(this.wrapper,this.barElement),this.started=!0},f._end=function(){this.started=!1,this.displayDelayTimeoutId=null,this.type&&this.type.end(this.wrapper,this.barElement)},f.handleEvent=function(a){var d;switch(a.type){case"visibilitychange":d=h.getClosestBySelector(this.container,"."+c.widget.wearable.Page.classes.uiPage),"visible"===b.visibilityState&&d===c.activePage&&this.refresh()}},f._clear=function(){this._removeScrollbar(),this.started=!1,this.type=null,this.barElement=null,this.displayDelayTimeoutId=null},f._destroy=function(){this._clear(),b.removeEventListener("visibilitychange",this),this.options=null,this.container=null,this.clip=null},j.prototype=f,c.widget.wearable.scroller.scrollbar.ScrollBar=j,e.defineWidget("ScrollBar","",["translate"],j)}(a.document,d),function(a){a.router=a.router||{}}(d),function(a){a.router.route=a.router.route||{}}(d),function(a,b){var c,d=b.util.object,e=0,f=0,g=a.history,h={activeState:null,replace:function(a,b,i){var j=d.merge({},a,{uid:c?f:++e,stateUrl:i,stateTitle:b});g[c?"replaceState":"pushState"](j,b,i),h.setActive(j)},back:function(){g.back()},setActive:function(a){return a&&(h.activeState=a,f=a.uid,a.volatileRecord)?(h.enableVolatileRecord(),void 0):(h.disableVolatileMode(),void 0)},getDirection:function(a){return a?a.uid<f?"back":"forward":"back"},enableVolatileRecord:function(){c=!0},disableVolatileMode:function(){c=!1}};b.router.history=h}(a,d),function(a,b,d){var e,f=d.engine,g=d.util.object,h=d.util.selectors,i=d.util.DOM,j={},k={uiStateKey:"&ui-state",urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)((#[^\?]*)(\?.*)?)?/,getLocation:function(b){var c=this.parseUrl(b||a.location.href),d=c.hash;return d="#"===d?"":d,j=c,c.protocol+"//"+c.host+c.pathname+c.search+d},getDocumentUrl:function(a){return a?g.copy(k.documentUrl):k.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(a){var b;return"object"==typeof a?a:(b=k.urlParseRE.exec(a||"")||[],{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[18]||"",hashSearch:b[19]||""})},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),f=0;f<d.length;f++)switch(e=d[f]){case".":break;case"..":c.length&&c.pop();break;default:c.push(e)}return"/"+c.join("/")},isSameDomain:function(a,b){return k.parseUrl(a).domain===k.parseUrl(b).domain},isRelativeUrl:function(a){return""===k.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==k.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!k.isRelativeUrl(a))return a;var c=k.parseUrl(a),d=k.parseUrl(b),e=c.protocol||d.protocol,f=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,g=c.authority||d.authority,h=""!==c.pathname,i=k.makePathAbsolute(c.pathname||d.filename,d.pathname),j=c.search||!h&&d.search||"",l=c.hash;return e+f+g+i+j+l},addSearchParams:function(a,b){var c=k.parseUrl(a),d="object"==typeof b?this.getAsURIParameters(b):b,e="",f=c.hash;return k.isEmbedded(a)&&d.length>0?(e=c.hashSearch||"?",c.hrefNoHash+(f||"")+e+("?"===e.charAt(e.length-1)?"":"&")+d):(e=c.search||"?",c.hrefNoSearch+e+("?"===e.charAt(e.length-1)?"":"&")+d+(f||""))},addHashSearchParams:function(a,b){var c=k.parseUrl(a),d="object"==typeof b?k.getAsURIParameters(b):b,e=c.hash,f=e?e.indexOf("?")<0?e+"?":e+"&":"#?";return c.hrefNoHash+f+("?"===f.charAt(f.length-1)?"":"&")+d},convertUrlToDataUrl:function(b,c,d){var e=k.parseUrl(b);return k.isEmbeddedPage(e,!!c)?k.getFilePath(e.hash+e.hashSearch,c):(d=d||k.documentBase,k.isSameDomain(e,d)?e.hrefNoHash.replace(d.domain,""):a.decodeURIComponent(b))},get:function(a){return a===c&&(a=this.parseLocation().hash),this.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},isPath:function(a){return/\//.test(a)},clean:function(a,b){return a.replace(b.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a,b){var c=k.parseUrl(a);return c.protocol&&c.domain!==b.domain?!0:!1},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbedded:function(a){var b=k.parseUrl(a);return""!==b.protocol?!k.isPath(b.hash)&&!!b.hash&&b.hrefNoHash===k.parseLocation().hrefNoHash:/\?.*#|^#/.test(b.href)},squash:function(a,b){var c,d,e,f,g=this.isPath(a),h=this.parseUrl(a),i=h.hash,j="";return b=b||(k.isPath(a)?k.getLocation():k.getDocumentUrl()),d=g?k.stripHash(a):a,d=k.isPath(h.hash)?k.stripHash(h.hash):d,f=d.indexOf(this.uiStateKey),f>-1&&(j=d.slice(f),d=d.slice(0,f)),c=k.makeUrlAbsolute(d,b),e=this.parseUrl(c).search,g?((k.isPath(i)||0===i.replace("#","").indexOf(this.uiStateKey))&&(i=""),j&&-1===i.indexOf(this.uiStateKey)&&(i+=j),-1===i.indexOf("#")&&""!==i&&(i="#"+i),c=k.parseUrl(c),c=c.protocol+"//"+c.host+c.pathname+e+i):c+=c.indexOf("#")>-1?j:"#"+j,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(new RegExp("([!\"#$%&'()*+,./:;<=>?@[\\]^`{|}~])","g"),"\\$1")},isFirstPageUrl:function(a,b,d,e){var g,h,i,j,l;return b=b===c?k.documentBase:b,d=d===c?k.documentBaseDiffers:d,e=e===c?k.documentUrl:e,g=k.parseUrl(k.makeUrlAbsolute(a,b)),h=g.hrefNoHash===e.hrefNoHash||d&&g.hrefNoHash===b.hrefNoHash,i=f.getRouter().firstPage,j=i?i.id:c,l=g.hash,h&&(!l||"#"===l||j&&l.replace(/^#/,"")===j)},isPermittedCrossDomainRequest:function(a,b){return d.getConfig("allowCrossDomainPages",!1)&&"file:"===a.protocol&&-1!==b.search(/^https?:/)},getAsURIParameters:function(a){var b,c="";for(b in a)a.hasOwnProperty(b)&&(c+=encodeURIComponent(b)+"="+encodeURIComponent(a[b])+"&");return c.substring(0,c.length-1)},documentUrl:null,documentBaseDiffers:!1,set:function(a){j.hash=a},getFilePath:function(a,b){var c="&"+d.getConfig("subPageUrlKey","");return a&&a.split(c)[0].split(b)[0]},cleanHash:function(a,b){return k.stripHash(a.replace(/\?.*$/,"").replace(b,""))},isEmbeddedPage:function(a,b){var c=k.parseUrl(a);return""!==c.protocol?c.hash&&(b?c.hrefNoHash===k.documentUrl.hrefNoHash:c.hrefNoHash===k.parseLocation().hrefNoHash):/^#/.test(c.href)}};k.documentUrl=k.parseLocation(),e=b.querySelector("base"),k.documentBase=e?k.parseUrl(k.makeUrlAbsolute(e.getAttribute("href"),k.documentUrl.href)):k.documentUrl,k.documentBaseDiffers=k.documentUrl.hrefNoHash!==k.documentBase.hrefNoHash,k.getDocumentBase=function(a){return a?g.copy(k.documentBase):k.documentBase.href},k.getClosestBaseUrl=function(a,b){var c=i.getNSData(h.getClosestBySelector(a,b),"url"),e=k.documentBase.hrefNoHash;return d.getConfig("dynamicBaseEnabled",!0)&&c&&k.isPath(c)||(c=e),k.makeUrlAbsolute(c,e)},d.util.path=k}(a,a.document,d),function(a,b,c){function d(a){for(;a&&(a.nodeType!==Node.ELEMENT_NODE||!a.nodeName||"A"!==a.nodeName);)a=a.parentNode;return a}function e(a,b){var c,e,f,g=d(b.target);g&&1===b.which&&(c=g.getAttribute("href"),e="external"===g.getAttribute("rel")||g.hasAttribute("target"),e||(f=i.getData(g),f.link=g.id,a.open(c,f,b),h.preventDefault(b)))}function f(a,b){var c,d,e,f,g,h,i=b.state,k=o.activeState,m=n.route,p=!0;if(s)return o.disableVolatileMode(),o.replace(k,k.stateTitle,k.stateUrl),void 0;if(i){e=i.url,g="back"===o.getDirection(i),h=g?k&&k.transition||"none":i.transition,d=l.merge({},i,{reverse:g,transition:h,fromHashChange:!0}),f=j.getLocation();for(c in m)m.hasOwnProperty(c)&&m[c].onHashChange(f,d)&&(p=!1);o.setActive(i),p&&a.open(e,d)}}var g=c.util,h=c.event,i=g.DOM,j=g.path,k=g.selectors,l=g.object,m=c.engine,n=c.router,o=n.history,p=n.route,q=b.body,r=[].slice,s=!1,t=c.widget.wearable.Page,u=function(){var a=this;a.firstPage=null,a.container=null,a.settings={}};u.prototype.defaults={fromHashChange:!1,reverse:!1,showLoadMsg:!0,loadMsgDelay:0,volatileRecord:!1},u.prototype.open=function(a,b,c){var d,e=b&&b.rel||"page",f=p[e],g={},i=this;if(!s){if("back"===e)return o.back(),void 0;if(!f)throw new Error("Not defined router rule ["+e+"]");b=l.merge({rel:e},this.defaults,f.option(),b),d=f.filter,g.resolve=function(a,b){f.open(b,a,c)},g.reject=function(a){h.trigger(i.container.element,"changefailed",a)},"string"==typeof a?a.replace(/[#|\s]/g,"")&&this._loadUrl(a,b,f,g):a&&k.matchesSelector(a,d)?g.resolve(b,a):g.reject(b)}},u.prototype.init=function(d){var e,f,g,h,j,l,n=a.location,o=t.classes,p=o.uiPage,s=o.uiPageActive,u=c.engine.getWidgetDefinition("Page")||c.engine.getWidgetDefinition("page"),v=this;if(q=b.body,f=c.getConfig("pageContainer")||q,j=r.call(f.querySelectorAll(u.selector)),v.justBuild=d,c.getConfig("autoInitializePage",!0)){if(h=f.querySelector("."+s),h||(h=j[0]),h&&(l=f.querySelectorAll("."+s),r.call(l).forEach(function(a){a.classList.remove("."+s)}),f=h.parentNode),d)return g=m.instanceWidget(f,"pagecontainer"),h&&v.register(g,h),void 0;n.hash&&(e=b.getElementById(n.hash.replace("#","")),e&&k.matchesSelector(e,"."+p)&&(h=e))}j.forEach(function(a){i.getNSData(a,"url")||i.setNSData(a,"url",a.id||n.pathname+n.search)}),g=m.instanceWidget(f,"pagecontainer"),v.register(g,h)},u.prototype.destroy=function(){var b=this;a.removeEventListener("popstate",b.popStateHandler,!1),q&&(q.removeEventListener("pagebeforechange",this.pagebeforechangeHandler,!1),q.removeEventListener("vclick",b.linkClickHandler,!1))},u.prototype.setContainer=function(a){this.container=a},u.prototype.getContainer=function(){return this.container},u.prototype.getFirstPage=function(){return this.firstPage},u.prototype.register=function(c,d){var g=this;g.container=c,g.firstPage=d,g.linkClickHandler=e.bind(null,g),g.popStateHandler=f.bind(null,g),b.addEventListener("vclick",g.linkClickHandler,!1),a.addEventListener("popstate",g.popStateHandler,!1),o.enableVolatileRecord(),d&&g.open(d,{transition:"none"})},u.prototype.openPopup=function(a,b){this.open(a,l.fastMerge({rel:"popup"},b))},u.prototype.closePopup=function(a){var b=this.getRoute("popup");b&&b.close(null,a)},u.prototype.lock=function(){s=!0},u.prototype.unlock=function(){s=!1},u.prototype._loadUrl=function(a,b,c,d){var e,f,g=j.makeUrlAbsolute(a,j.getLocation()),h={},i=this;return e=c.find(g),!e&&j.isEmbedded(g)?(d.reject(h),void 0):e?(h=l.fastMerge({absUrl:g},b),d.resolve(h,e),void 0):(b.showLoadMsg&&i._showLoading(b.loadMsgDelay),f=new XMLHttpRequest,f.responseType="document",f.overrideMimeType("text/html"),f.open("GET",g),f.addEventListener("error",i._loadError.bind(i,g,b,d)),f.addEventListener("load",function(a){var e=a.target;4===e.readyState&&(200===e.status||0===e.status&&e.responseXML?i._loadSuccess(g,b,c,d,e.responseXML):i._loadError(g,b,d))}),f.send(),void 0)},u.prototype._loadError=function(a,b,c){var d=l.fastMerge({url:a},b),e=this;b.showLoadMsg&&e._showError(a),h.trigger(e.container.element,"loadfailed",d),c.reject(d)},u.prototype._loadSuccess=function(a,b,c,d,e){var f=l.fastMerge({url:a},b),g=c.parse(e,a);b.showLoadMsg&&this._hideLoading(),g?d.resolve(f,g):d.reject(f)},u.prototype._getInitialContent=function(){return this.firstPage},u.prototype._showLoading=function(a){this.container.showLoading(a)},u.prototype._showError=function(a){c.error("load error, file: ",a)},u.prototype._hideLoading=function(){this.container.hideLoading()},u.prototype.hasActivePopup=function(){var a=this.getRoute("popup");return a&&a.hasActive()},u.prototype.getRoute=function(a){return p[a]},n.Router=u,m.initRouter(u)}(a,a.document,d),function(a,b){function c(b,c){var d=a.getElementById(b);return d&&j.matchesSelector(d,c)?h.setNSData(d,"url",b):d=null,d}var d,e,f=b.util,g=f.path,h=f.DOM,i=f.object,j=f.selectors,k=b.router.history,l=b.engine,m=b.widget.wearable.Page,n=([].slice,{});n.defaults={transition:"none"},n.filter="."+m.classes.uiPage,n.option=function(){var a=i.merge({},n.defaults);return a.transition=b.getConfig("pageTransition",a.transition),a},n.open=function(b,c){var d,e=a.title,f={},m=l.getRouter();d=b!==m.firstPage||c.dataUrl?h.getNSData(b,"url"):g.documentUrl.hrefNoHash,e=h.getNSData(b,"title")||j.getChildrenBySelector(b,".ui-header > .ui-title").textContent||e,h.getNSData(b,"title")||h.setNSData(b,"title",e),d&&!c.fromHashChange&&(!g.isPath(d)&&d.indexOf("#")<0&&(d=g.makeUrlAbsolute("#"+d,g.documentUrl.hrefNoHash)),f=i.merge({},c,{url:d}),k.replace(f,e,d)),this._setBase(d),a.title=e,m.container.change(b,c)},n.find=function(a){var b,d=this,e=l.getRouter(),f=d._createDataUrl(a),h=e.getFirstPage(),i=e.getContainer(),j="[data-url='"+f+"']",k=/,/gm;return/#/.test(a)&&g.isPath(f)?null:(j+=d.filter.replace(k,",[data-url='"+f+"']"),b=i.element.querySelector(j),b||!f||g.isPath(f)||(b=c(f,d.filter)),!b&&g.isFirstPageUrl(f)&&h&&h.parentNode&&(b=h),b)},n.parse=function(a,b){var c,d=this,e=d._createDataUrl(b);return d._setBase(b),c=a.querySelector(d.filter),c&&(h.setNSData(c,"url",e),h.setNSData(c,"external",!0)),c},n.onHashChange=function(){return null},n._createDataUrl=function(a){return g.convertUrlToDataUrl(a,!0)},n.onOpenFailed=function(){this._setBase(g.parseLocation().hrefNoSearch)},n._getBaseElement=function(){return e||(e=a.querySelector("head")),d||(d=a.querySelector("base"),d||(d=a.createElement("base"),d.href=g.documentBase.hrefNoHash,e.appendChild(d))),d},n._setBase=function(a){var b=this._getBaseElement(),c=b.href;g.isPath(a)&&(a=g.makeUrlAbsolute(a,g.documentBase),g.parseUrl(c).hrefNoSearch!==g.parseUrl(a).hrefNoSearch&&(b.href=a,g.documentBase=g.parseUrl(g.makeUrlAbsolute(a,g.documentUrl.href))))},b.router.route.page=n}(a.document,d),function(a,b,c){function d(a,c){var d,e=/^#/;return a=a.replace(e,""),d=b.getElementById(a),d&&i.matchesSelector(d,c)?k.setNSData(d,"url","#"+a):d=null,d}var e=c.widget.core.Popup,f={defaults:{transition:"none",container:null,volatileRecord:!0},filter:"."+e.classes.popup,activePopup:null,events:{POPUP_HIDE:"popuphide"}},g=c.engine,h=c.util.path,i=c.util.selectors,j=c.router.history,k=c.util.DOM,l=([].slice,c.util.object),m="popup=true",n=/([&|\?]popup=true)/;f.option=function(){var a=l.merge({},f.defaults);return a.transition=c.getConfig("popupTransition",a.transition),a},f.setActive=function(a,b){var c,d=h.getLocation(),e=d.replace(n,"");this.activePopup=a,a?b&&!b.fromHashChange&&b.history&&(c=h.addHashSearchParams(e,m),j.replace(b,"",c)):d!==e&&j.back()},f.open=function(a,c,d){var e,f,h=this,i=g.getRouter(),j=h.events,l=function(){b.removeEventListener(j.POPUP_HIDE,l,!1),a.parentNode.removeChild(a),h.activePopup=null},m=function(){var f=c["position-to"];f&&(c.positionTo=f),d&&d.touches?(c.x=d.touches[0].clientX,c.y=d.touches[0].clientY):d&&(c.x=d.clientX,c.y=d.clientY),b.removeEventListener(j.POPUP_HIDE,m,!1),e=g.instanceWidget(a,"Popup",c),e.open(c),h.activePopup=e},n=i.container.getActivePage();k.getNSData(a,"external")===!0&&(f=c.container?n.element.querySelector(c.container):n.element,f.appendChild(a),b.addEventListener(j.POPUP_HIDE,l,!1)),h.hasActive()?(b.addEventListener(j.POPUP_HIDE,m,!1),h.close()):m()},f.close=function(a,b){var c,d=h.getLocation(),e=d.replace(n,"");return b=b||{},a=a||this.activePopup,a?(c=a.options,c.history&&d!==e?(c.transition=b.transition||c.transition,c.ext=b.ext||c.ext,c.dismissible||g.getRouter().unlock(),j.back()):a.close(b||{}),!0):!1},f.onHashChange=function(a,b){var c=this.activePopup;return c?(c.close(b),!0):!1},f.onOpenFailed=function(){return null},f.find=function(a){var b,c=this,e=c._createDataUrl(a),f=g.getRouter().getContainer().getActivePage();return b=f.element.querySelector("[data-url='"+e+"']"+c.filter),b||!e||h.isPath(e)||(b=d(e,c.filter)),b},f.parse=function(a,b){var c,d=this,e=d._createDataUrl(b);return c=a.querySelector(d.filter),c&&(k.setNSData(c,"url",e),k.setNSData(c,"external",!0)),c},f._createDataUrl=function(a){return h.convertUrlToDataUrl(a)},f.hasActive=function(){return!!this.activePopup},f.getActive=function(){return this.activePopup},c.router.route.popup=f}(a,a.document,d),function(a,b){a.addEventListener("beforerouterinit",function(){b.setConfig("autoInitializePage",b.autoInitializePage)},!1),a.addEventListener("routerinit",function(d){var e=d.detail,f=b.router.history,g=f.back.bind(e),h=b.widget.wearable.Page.classes,i=h.uiPageActive;b.changePage=e.open.bind(e),a.addEventListener("pageshow",function(){b.activePage=a.querySelector("."+i)}),b.firstPage=e.getFirstPage(),b.back=g,b.initializePage=e.init.bind(e),b.pageContainer=e.container,b.openPopup=function(a,b){var d;d=a&&a.length!==c&&"object"==typeof a?a[0]:a,e.openPopup(d,b)},b.closePopup=e.closePopup.bind(e)},!1)}(a.document,d),function(a){var b=a.engine;a.IndexScrollbar=function(c,d){return a.warn("tau.IndexScrollbar is deprecated. you have to use tau.widget.IndexScrollbar."),b.instanceWidget(c,"IndexScrollbar",d)},a.SectionChanger=function(c,d){return a.warn("tau.SectionChanger is deprecated. you have to use tau.widget.SectionChanger."),b.instanceWidget(c,"SectionChanger",d)},a.SwipeList=function(c,d){return a.warn("tau.SwipeList is deprecated. you have to use tau.widget.SwipeList."),b.instanceWidget(c,"SwipeList",d)},a.VirtualListview=function(c,d){return a.warn("tau.VirtualListview is deprecated. you have to use tau.widget.VirtualListview."),b.instanceWidget(c,"VirtualListview",d)}}(d),function(a){a.getConfig("autorun",!0)===!0&&a.engine.run()}(d)}(window,window.document);